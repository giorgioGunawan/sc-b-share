(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{279:function(e,t,n){e.exports=n.p+"static/media/logo.40a2ca7d.png"},450:function(e,t,n){e.exports=n.p+"static/media/loading.80a83396.gif"},468:function(e,t,n){e.exports=n(833)},833:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),c=n(383),s=n(388),l=n(2),m=n(42),u=n.n(m),d={palette:{primary:{main:"#536DFE",light:u()("#536DFE").lighten(7.5).toHexString(),dark:u()("#536DFE").darken(15).toHexString(),white:"#FFF"},myprimary:{main:"#0B1A2D",bright:u()("#0B1A2D").lighten(15).toHexString(),light:u()("#0B1A2D").lighten(7.5).toHexString(),dark:u()("#0B1A2D").darken(15).toHexString(),white:"#FFF"},favorite:{main:"#4302a0",light:u()("#536DFE").lighten(7.5).toHexString(),dark:u()("#536DFE").darken(15).toHexString(),white:"#FFF"},secondary:{main:"#FF5C93",light:u()("#FF5C93").lighten(7.5).toHexString(),dark:u()("#FF5C93").darken(15).toHexString(),contrastText:"#FFFFFF"},mysecondary:{main:"#00A3EE",bright:u()("#00A3EE").lighten(15).toHexString(),light:u()("#00A3EE").lighten(7.5).toHexString(),dark:u()("#00A3EE").darken(15).toHexString(),contrastText:"#FFFFFF"},warning:{main:"#FFC260",light:u()("#FFC260").lighten(7.5).toHexString(),dark:u()("#FFC260").darken(15).toHexString()},success:{main:"#3CD4A0",light:u()("#3CD4A0").lighten(7.5).toHexString(),dark:u()("#3CD4A0").darken(15).toHexString()},info:{main:"#9013FE",light:u()("#9013FE").lighten(7.5).toHexString(),dark:u()("#9013FE").darken(15).toHexString()},text:{primary:"#4A4A4A",secondary:"#6E6E6E",hint:"#B9B9B9",white:"#FFF"},background:{default:"#F6F7FF",light:"#F3F5FF"},blue:{main:"#2196f3",light:u()("#2196f3").lighten(7.5).toHexString(),dark:u()("#2196f3").darken(15).toHexString()},green:{main:"#4caf50",light:u()("#4caf50").lighten(7.5).toHexString(),dark:u()("#4caf50").darken(15).toHexString()}},customShadows:{widget:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetDark:"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetWide:"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"},overrides:{MuiBackdrop:{root:{backgroundColor:"#4A4A4A1A"}},MuiMenu:{paper:{boxShadow:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"}},MuiSelect:{icon:{color:"#B9B9B9"}},MuiListItem:{root:{"&$selected":{backgroundColor:"#F3F5FF !important","&:focus":{backgroundColor:"#F3F5FF"}}},button:{"&:hover, &:focus":{backgroundColor:"#F3F5FF"}}},MuiTouchRipple:{child:{backgroundColor:"white"}},MuiTable:{root:{border:"1px solid rgba(224, 224, 224, .5)"}},MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px"}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"0px",paddingBottom:"0px",height:50}},MuiTableRow:{root:{height:75}},MUIDataTableHeadCell:{fixedHeaderCommon:{backgroundColor:"#00a3ee5c"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"#00a3ee5c"}},MuiTypography:{body1:{fontSize:"0.8125rem"}},MuiMenuItem:{root:{fontSize:"0.8125rem",padding:36,paddingTop:12,paddingBottom:12}}}},p=n(158),f={default:Object(p.a)(Object(l.a)(Object(l.a)({},d),{typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2rem"},h3:{fontSize:"1.64rem"},h4:{fontSize:"1.5rem"},h5:{fontSize:"1.285rem"},h6:{fontSize:"1.142rem"}}}))},g=n(36),b=n(20),h=n(48),y=n(10),O=n(22),v=n.n(O),E=n(394),_=n(836),C=Object(_.a)(function(e){return{root:{display:"flex",maxWidth:"100vw",overflowX:"hidden",background:"#fff"},content:{flexGrow:1,padding:e.spacing(3),width:"calc(100vw - 240px)",minHeight:"100vh"},contentShift:{width:"calc(100vw - ".concat(240+e.spacing(6),"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},fakeToolbar:Object(l.a)({},e.mixins.toolbar),mainContainer:{paddingTop:40},padding1600:{paddingLeft:80,paddingRight:80},padding1800:{paddingLeft:120,paddingRight:120}}}),j=n(337),x=n(338),T=n(309),w=n(843),S=n(844),N=n(167),k=Object(_.a)(function(e){var t;return{logotype:Object(y.a)({color:"white",marginLeft:e.spacing(2.5),marginRight:e.spacing(2.5),fontWeight:500,fontSize:18,whiteSpace:"nowrap"},e.breakpoints.down("xs"),{display:"none"}),appBar:{width:"100%",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},toolbar:{width:"100%",background:e.palette.mysecondary.main,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},hide:{display:"none"},grow:{flexGrow:1},search:{background:"white",position:"relative",borderRadius:25,paddingLeft:e.spacing(2.5),width:36,backgroundColor:Object(N.fade)(e.palette.common.black,0),transition:e.transitions.create(["background-color","width"]),"&:hover":{cursor:"pointer",backgroundColor:Object(N.fade)(e.palette.common.black,.08)}},searchFocused:Object(y.a)({backgroundColor:Object(N.fade)(e.palette.common.black,.08),width:"100%"},e.breakpoints.up("md"),{width:250}),searchIcon:{width:36,right:0,height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create("right"),"&:hover":{cursor:"pointer"}},searchIconOpened:{right:e.spacing(1.25)},inputRoot:(t={color:"#B9B9B9"},Object(y.a)(t,"color",e.palette.primary.light),Object(y.a)(t,"width","100%"),t),inputInput:{height:36,padding:0,paddingRight:36+e.spacing(1.25),width:"100%"},messageContent:{display:"flex",flexDirection:"column"},headerMenu:{marginTop:e.spacing(7)},headerMenuList:{display:"flex",flexDirection:"column"},headerMenuItem:{"&:hover, &:focus":{backgroundColor:e.palette.primary.main,color:"white"}},headerMenuButton:{marginLeft:e.spacing(2),padding:e.spacing(.5)},headerMenuButtonCollapse:{marginRight:e.spacing(2)},headerIcon:{fontSize:28,color:"rgba(255, 255, 255, 0.35)"},headerIconCollapse:{color:"white"},profileMenu:{minWidth:265},profileMenuUser:{display:"flex",flexDirection:"column",padding:e.spacing(2)},profileMenuItem:{color:e.palette.text.hint},profileMenuIcon:{marginRight:e.spacing(2),color:e.palette.text.hint},profileMenuLink:{fontSize:16,textDecoration:"none","&:hover":{cursor:"pointer"}},messageNotification:{height:"auto",display:"flex",alignItems:"center","&:hover, &:focus":{backgroundColor:e.palette.background.light}},messageNotificationSide:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:e.spacing(2)},messageNotificationBodySide:{alignItems:"flex-start",marginRight:0},sendMessageButton:{margin:e.spacing(4),marginTop:e.spacing(2),marginBottom:e.spacing(2),textTransform:"none"},sendButtonIcon:{marginLeft:e.spacing(2)},whiteColor:{color:"white"}}}),I=(n(335),n(121)),P=n(336),B=n(9),R=n(274);Object(_.a)(function(e){return{badge:{fontWeight:600,height:16,minWidth:16}}});function F(e){var t=e.children,n=e.weight,a=e.size,o=e.colorBrightness,i=e.color,c=Object(g.a)(e,["children","weight","size","colorBrightness","color"]),s=Object(R.a)();return r.a.createElement(I.a,Object.assign({style:{color:D(i,s,o),fontWeight:M(n),fontSize:A(a,c.variant,s)}},c),t)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";if(e&&t.palette[e]&&t.palette[e][n])return t.palette[e][n]}function M(e){switch(e){case"light":return 300;case"medium":return 500;case"bold":return 600;default:return 400}}function A(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;switch(e){case"sm":t=.8;break;case"md":t=1.5;break;case"xl":t=2;break;case"xxl":t=3;break;default:t=1}var r=n&&a.typography[n]?a.typography[n].fontSize:a.typography.fontSize+"px";return"calc(".concat(r," * ").concat(t,")")}var L=n(8),U=r.a.createContext(),H=r.a.createContext();function q(e,t){switch(t.type){case"TOGGLE_SIDEBAR":return Object(l.a)(Object(l.a)({},e),{},{isSidebarOpened:!e.isSidebarOpened});default:throw new Error("Unhandled action type: ".concat(t.type))}}function z(e){var t=e.children,n=r.a.useReducer(q,{isSidebarOpened:!0}),a=Object(L.a)(n,2),o=a[0],i=a[1];return r.a.createElement(U.Provider,{value:o},r.a.createElement(H.Provider,{value:i},t))}function W(){var e=r.a.useContext(U);if(void 0===e)throw new Error("useLayoutState must be used within a LayoutProvider");return e}function J(){var e=r.a.useContext(H);if(void 0===e)throw new Error("useLayoutDispatch must be used within a LayoutProvider");return e}function G(e){e({type:"TOGGLE_SIDEBAR"})}function Y(e){var t=k(),n=W().isSidebarOpened,a=J();return r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(x.a,{className:t.toolbar,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(T.a,{color:"inherit",onClick:function(){return G(a)},className:v()(t.headerMenuButton,t.headerMenuButtonCollapse)},n?r.a.createElement(w.a,{classes:{root:v()(t.headerIcon,t.headerIconCollapse)}}):r.a.createElement(S.a,{classes:{root:v()(t.headerIcon,t.headerIconCollapse)}})),r.a.createElement(F,{variant:"h4",weight:"medium",className:t.logotype},"ASILE"),r.a.createElement(F,{variant:"h6",weight:"medium",className:t.logotype,style:{float:"center",marginLeft:30}},"Hi, ",localStorage.getItem("full_name"))))}var V=n(70),$=n(311),Q=n(846),K=n(847),X=n(848),Z=n(849),ee=n(850),te=n(851),ne=Object(_.a)(function(e){var t;return{menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{background:e.palette.myprimary.main},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+40},e.breakpoints.down("sm"),{width:240}),toolbar:Object(l.a)(Object(l.a)({marginTop:15,color:"#FFF",display:"flex",justifyContent:"center",alignItems:"center"},e.mixins.toolbar),{},Object(y.a)({},e.breakpoints.down("sm"),{display:"none"})),content:{flexGrow:1,padding:e.spacing(3)},sidebarList:{padding:e.spacing(1)},mobileBackButton:(t={marginTop:e.spacing(.5),marginLeft:e.spacing(3)},Object(y.a)(t,e.breakpoints.only("sm"),{marginTop:e.spacing(.625)}),Object(y.a)(t,e.breakpoints.up("md"),{display:"none"}),t),logotypeImage:{width:40,marginRight:e.spacing(1)},logotype:{marginRight:e.spacing(1)}}}),ae=n(339),re=n(310),oe=n(340),ie=n(341),ce=n(342),se=n(845),le=Object(_.a)(function(e){return{link:{textDecoration:"none",borderRadius:"10px","&:hover":{backgroundColor:e.palette.myprimary.light},"&:focus":{backgroundColor:"inherit"}},linkActive:{backgroundColor:e.palette.myprimary.bright,"&:focus":{backgroundColor:e.palette.myprimary.bright}},linkNestedActive:{backgroundColor:e.palette.myprimary.bright},linkNested:{paddingLeft:0,borderRadius:"10px","&:hover":{backgroundColor:e.palette.myprimary.light},"&:focus":{backgroundColor:e.palette.myprimary.bright}},linkIcon:Object(y.a)({marginRight:e.spacing(1),color:e.palette.text.secondary+"99",transition:e.transitions.create("color"),width:24,display:"flex",justifyContent:"center"},"color",e.palette.primary.white),linkIconActive:{color:e.palette.primary.white},linkText:{padding:0,color:e.palette.text.white+"",transition:e.transitions.create(["opacity","color"]),fontSize:14},largeText:{fontSize:14},smallText:{fontSize:13},linkTextActive:{color:e.palette.text.white,fontWeight:"550"},linkTextHidden:{opacity:0},nestedList:{paddingLeft:e.spacing(3),fontSize:"12px!important"},sectionTitle:{marginLeft:e.spacing(4.5),marginTop:e.spacing(2),marginBottom:e.spacing(2)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(4),height:1,backgroundColor:"#D8D8D880"},listItem:{padding:5}}}),me=Object(_.a)(function(e){return{dotBase:{width:8,height:8,backgroundColor:e.palette.text.hint,borderRadius:"50%",transition:e.transitions.create("background-color")},dotSmall:{width:5,height:5},dotLarge:{width:11,height:11}}});function ue(e){var t,n=e.size,a=e.color,o=me(),i=Object(R.a)();return r.a.createElement("div",{className:v()(o.dotBase,(t={},Object(y.a)(t,o.dotLarge,"large"===n),Object(y.a)(t,o.dotSmall,"small"===n),t)),style:{backgroundColor:a&&i.palette[a]&&i.palette[a].main}})}function de(e){var t,n,o,i=e.link,c=e.icon,s=e.label,l=e.children,m=e.location,u=e.isSidebarOpened,d=e.nested,p=e.type,f=le(),g=Object(a.useState)(!1),h=Object(L.a)(g,2),O=h[0],E=h[1],_=i&&(m.pathname===i||-1!==m.pathname.indexOf(i));return"title"===p?r.a.createElement(I.a,{className:v()(f.linkText,f.sectionTitle,Object(y.a)({},f.linkTextHidden,!u))},s):"divider"===p?r.a.createElement(ae.a,{className:f.divider}):l?r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{button:!0,component:i&&b.b,onClick:function(e){u&&(e.preventDefault(),E(!O))},className:f.link,to:i,disableRipple:!0},r.a.createElement(oe.a,{className:v()(f.linkIcon,Object(y.a)({},f.linkIconActive,_))},c||r.a.createElement(se.a,null)),r.a.createElement(ie.a,{classes:{primary:v()(f.linkText,(o={},Object(y.a)(o,f.linkTextActive,_),Object(y.a)(o,f.linkTextHidden,!u),o))},primary:s})),l&&r.a.createElement(ce.a,{in:O&&u,timeout:"auto",unmountOnExit:!0,className:f.nestedList},r.a.createElement($.a,{component:"div",disablePadding:!0,className:f.listItem},l.map(function(e){return r.a.createElement(de,Object.assign({key:e&&e.link,location:m,isSidebarOpened:u,classes:f,nested:!0},e))})))):r.a.createElement(re.a,{button:!0,component:i&&b.b,to:i,className:f.link,classes:{root:v()(f.linkRoot,(t={},Object(y.a)(t,f.linkActive,_&&!d),Object(y.a)(t,f.linkNested,d),Object(y.a)(t,f.linkNestedActive,_&&d),t))},disableRipple:!0},r.a.createElement(oe.a,{className:v()(f.linkIcon,Object(y.a)({},f.linkIconActive,_))},d?r.a.createElement(ue,{color:_&&"primary"}):c),r.a.createElement(ie.a,{classes:{primary:v()(f.linkText,(n={},Object(y.a)(n,f.linkTextActive,_),Object(y.a)(n,f.linkTextHidden,!u),Object(y.a)(n,f.largeText,!d),Object(y.a)(n,f.smallText,d),n))},primary:s}))}n(279);var pe=[{id:0,label:"User",link:"/app/usermanage",icon:r.a.createElement(Q.a,{fontSize:"small"}),children:[{label:"Administrators",link:"/app/usermanage/admin"},{label:"Users",link:"/app/usermanage/user"}]},{id:1,label:"Company",link:"/app/company",icon:r.a.createElement(K.a,{fontSize:"small"})},{id:2,label:"Client",link:"/app/client",icon:r.a.createElement(X.a,{fontSize:"small"})},{id:3,label:"Sales Client",link:"/app/sales",icon:r.a.createElement(Z.a,{fontSize:"small"})},{id:4,label:"Schedule",link:"/app/schedule",icon:r.a.createElement(ee.a,{fontSize:"small"})}];var fe=Object(h.h)(function(e){var t,n,o=e.location,i=ne(),c=Object(R.a)(),s=W().isSidebarOpened,l=J(),m=(W(),Object(a.useState)(!0)),u=Object(L.a)(m,2),d=u[0],p=u[1];return Object(a.useEffect)(function(){return window.addEventListener("resize",f),f(),function(){window.removeEventListener("resize",f)}}),r.a.createElement(V.a,{variant:d?"permanent":"temporary",className:v()(i.drawer,(t={},Object(y.a)(t,i.drawerOpen,s),Object(y.a)(t,i.drawerClose,!s),t)),classes:{paper:v()(i.drawerPaper,(n={},Object(y.a)(n,i.drawerOpen,s),Object(y.a)(n,i.drawerClose,!s),n))},open:s},r.a.createElement("div",{className:i.mobileBackButton},r.a.createElement(T.a,{onClick:function(){return G(l)}},r.a.createElement(te.a,{style:{color:"white"},classes:{root:v()(i.headerIcon,i.headerIconCollapse)}}))),r.a.createElement($.a,{className:i.sidebarList},pe.map(function(e){return r.a.createElement(de,Object.assign({key:e.id,location:o,isSidebarOpened:s},e))})),r.a.createElement("div",{className:i.sidebarList,style:{justifyContent:"center",alignSelf:"center",marginTop:20}},r.a.createElement(T.a,{style:{color:"white",fontSize:14,fontWeight:"bold"},onClick:function(){localStorage.clear(),window.location.reload()}},r.a.createElement(te.a,{style:{marginRight:5}}),"Log Out")));function f(){var e=window.innerWidth<c.breakpoints.values.md;e&&d?p(!1):e||d||p(!0)}}),ge=n(215),be=Object(_.a)(function(e){return{container:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.primary.main,position:"absolute",top:0,left:0},logotype:Object(y.a)({display:"flex",alignItems:"center",marginBottom:e.spacing(12)},e.breakpoints.down("sm"),{display:"none"}),logotypeText:{fontWeight:500,color:"white",marginLeft:e.spacing(2)},logotypeIcon:{width:70,marginRight:e.spacing(2)},paperRoot:{boxShadow:e.customShadows.widgetDark,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(8),paddingBottom:e.spacing(8),paddingLeft:e.spacing(6),paddingRight:e.spacing(6),maxWidth:404},textRow:{marginBottom:e.spacing(10),textAlign:"center"},errorCode:{fontSize:148,fontWeight:600},safetyText:{fontWeight:300,color:e.palette.text.hint},backButton:{boxShadow:e.customShadows.widget,textTransform:"none",fontSize:22}}});function he(){var e=be();return r.a.createElement(j.a,{container:!0,className:e.container},r.a.createElement(ge.a,{classes:{root:e.paperRoot}},r.a.createElement(I.a,{variant:"h1",color:"primary",className:v()(e.textRow,e.errorCode)},"404"),r.a.createElement(I.a,{variant:"h5",color:"primary",className:e.textRow},"Oops. Looks like the page you're looking for no longer exists"),r.a.createElement(I.a,{variant:"h6",color:"text",colorbrightness:"secondary",className:v()(e.textRow,e.safetyText)},"But we're here to bring you back to safety"),r.a.createElement(P.a,{variant:"contained",color:"primary",component:b.b,to:"/",size:"large",className:e.backButton},"Back to Home")))}var ye=n(7),Oe=n.n(ye),ve=n(11),Ee=n(27),_e=n.n(Ee),Ce=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}},notificationItem:{marginTop:e.spacing(2)},notificationCloseButton:{position:"absolute",right:e.spacing(2)},toastsContainer:{width:400,marginTop:e.spacing(6),right:0},progress:{visibility:"hidden"},notification:{display:"flex",alignItems:"center",background:"transparent",boxShadow:"none",overflow:"visible"},notificationComponent:{paddingRight:e.spacing(4)}}}),je=n(102),xe=n.n(je),Te=n(449),we=n.n(Te),Se=n(323),Ne=n.n(Se),ke=Object(_.a)(function(e){return{pageTitleContainer:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1),marginTop:e.spacing(5)},typo:{color:e.palette.text.hint},button:{padding:"8px 8px",fontSize:12,width:"100%",boxShadow:e.customShadows.widget,textTransform:"none","&:active":{boxShadow:e.customShadows.widgetWide}},buttonContainer:{padding:5,display:"flex",justifyContent:"flex-end",width:"max-content"},buttonGroup:{display:"flex",justifyContent:"flex-end",padding:"5px 0 5px 0"}}}),Ie=n(852);function Pe(e){var t=ke(),n=[];n["Add New"]=r.a.createElement(xe.a,null),n["Add Income"]=r.a.createElement(xe.a,null),n["Add Expense"]=r.a.createElement(xe.a,null),n.Print=r.a.createElement(Ie.a,null),n.Import=r.a.createElement(we.a,null),n.Export=r.a.createElement(Ne.a,null);var a=1,o=[0],i=[0],c=[0];e.button&&(a=e.button.length,o=[2,4,4,6],i=[4,6,6,8],c=[4,4,8,12]);return r.a.createElement("div",{className:t.pageTitleContainer},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,lg:12-o[a-1],md:12-i[a-1],sm:12===c[a-1]?12:12-c[a-1],xs:12},r.a.createElement(F,{className:t.typo,variant:"h2",size:"sm",color:"myprimary",weight:"bold"},e.title)),e.button&&r.a.createElement(j.a,{item:!0,lg:o[a-1],md:i[a-1],sm:c[a-1],xs:12},r.a.createElement(j.a,{container:!0,className:t.buttonGroup},e.button.length>0&&e.button.map(function(o,i){return r.a.createElement(j.a,{key:i,item:!0,className:t.buttonContainer,lg:12/a,md:12/a,sm:12/a,xs:12},r.a.createElement(P.a,{variant:o.includes("Add")?"contained":"outlined",classes:{root:t.button},size:"large",color:"primary",startIcon:n[o],onClick:function(t){return function(t,n,a){switch(console.log(t,n,a),a){case"admin":"Add New"===n&&e.history.push("/app/usermanage/admin/add");break;case"user":"Add New"===n&&e.history.push("/app/usermanage/user/add");break;case"company":"Add New"===n&&e.history.push("/app/company/add");break;case"client":"Add New"===n&&e.history.push("/app/client/add");break;case"sales":"Add New"===n&&e.history.push("/app/sales/add");break;case"salesview":"Add New"===n&&e.history.push("/app/salesview/add");break;case"clientview":"Add New"===n&&e.history.push("/app/clientview/add");break;case"salesorder_item":"Add New"===n&&e.history.push("/app/salesorder/item/add");break;case"salesorder_discount":"Add New"===n&&e.history.push("/app/salesorder/discount/add");break;case"salesorder_promotion":"Add New"===n&&e.history.push("/app/salesorder/promotion/add");break;case"salesorder_coupon":"Add New"===n&&e.history.push("/app/salesorder/coupon/add");break;case"category":"Add New"===n&&e.history.push("/app/salesorder/group/add");break;case"item_category":"Add New"===n&&e.history.push("/app/salesorder/itemcategory/add");break;default:console.log()}}(t,o,e.category)}},o))})))))}var Be=Object(_.a)(function(e){return{status:{width:50,height:24,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:50,fontSize:10,color:"#FFF"},draft:{backgroundColor:e.palette.primary.main},paid:{backgroundColor:e.palette.success.main},pending:{backgroundColor:e.palette.secondary.main}}});function Re(e){e.color;var t,n=Object(g.a)(e,["color"]),a=Be();Object(R.a)();return r.a.createElement("div",{className:v()(a.status,(t={},Object(y.a)(t,a.draft,"yes"===n.status),Object(y.a)(t,a.paid,"no"===n.status),t))},n.status.toUpperCase())}var Fe=n(12),De=n(254),Me=n(382),Ae=n(450),Le=n.n(Ae),Ue=Object(Me.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+5,color:"#fff",backgroundColor:"#ffffff44"}}});function He(e){var t=Ue(),n=r.a.useState(!1),a=Object(L.a)(n,2),o=(a[0],a[1]);return r.a.createElement("div",null,r.a.createElement(De.a,{className:t.backdrop,open:e.open,onClick:function(){o(!1)}},r.a.createElement("img",{src:Le.a,alt:"Loading ..."})))}var qe=n(14),ze="FETCH_ADMIN_REQUEST",We="FETCH_ADMIN_SUCCESS",Je="FETCH_ADMIN_ERROR",Ge="FETCH_ALL_USER_REQUEST",Ye="FETCH_ALL_USER_SUCCESS",Ve="FETCH_ALL_USER_ERROR",$e="FETCH_USER_REQUEST",Qe="FETCH_USER_SUCCESS",Ke="FETCH_USER_ERROR",Xe="FETCH_USERVIEW_REQUEST",Ze="FETCH_USERVIEW_SUCCESS",et="FETCH_USERVIEW_ERROR",tt="FETCH_CLIENT_REQUEST",nt="FETCH_CLIENT_SUCCESS",at="FETCH_CLIENT_ERROR",rt="FETCH_CLIENTVIEW_REQUEST",ot="FETCH_CLIENTVIEW_SUCCESS",it="FETCH_CLIENTVIEW_ERROR",ct="FETCH_COMPANY_REQUEST",st="FETCH_COMPANY_SUCCESS",lt="FETCH_COMPANY_ERROR",mt="FETCH_SCHEDULE_REQUEST",ut="FETCH_SCHEDULE_SUCCESS",dt="FETCH_SCHEDULE_ERROR",pt="FETCH_SCHEDULEVIEW_REQUEST",ft="FETCH_SCHEDULEVIEW_SUCCESS",gt="FETCH_SCHEDULEVIEW_ERROR",bt="FETCH_SALESCLIENT_REQUEST",ht="FETCH_SALESCLIENT_SUCCESS",yt="FETCH_SALESCLIENT_ERROR",Ot="FETCH_SALESCLIENTVIEW_REQUEST",vt="FETCH_SALESCLIENTVIEW_SUCCESS",Et="FETCH_SALESCLIENTVIEW_ERROR",_t="FETCH_SALESREVIEW_REQUEST",Ct="FETCH_SALESREVIEW_SUCCESS",jt="FETCH_SALESREVIEW_ERROR",xt="FETCH_SALESHISTORY_REQUEST",Tt="FETCH_SALESHISTORY_SUCCESS",wt="FETCH_SALESHISTORY_ERROR",St="FETCH_SALESITEM_REQUEST",Nt="FETCH_SALESITEM_SUCCESS",kt="FETCH_SALESITEM_ERROR",It="FETCH_DISCOUNT_REQUEST",Pt="FETCH_DISCOUNT_SUCCESS",Bt="FETCH_DISCOUNT_ERROR",Rt="FETCH_PROMOTION_REQUEST",Ft="FETCH_PROMOTION_SUCCESS",Dt="FETCH_PROMOTION_ERROR",Mt="FETCH_COUPON_REQUEST",At="FETCH_COUPON_SUCCESS",Lt="FETCH_COUPON_ERROR",Ut="FETCH_GROUP_REQUEST",Ht="FETCH_GROUP_SUCCESS",qt="FETCH_GROUP_ERROR";var zt="http://185.151.51.169:4000/",Wt="AIzaSyDJe5pWyxzTkHoBFRdwJ1-6UcZ_DJZZ2dQ";var Jt=function(){return function(e){e({type:ze});var t={isAdmin:1};setTimeout(function(){fetch("".concat(zt,"getUser"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:We,admin:n})),console.log("Get Admin===>",t),t}).catch(function(t){e(function(e){return{type:Je,error:e}}(t))})},1e3)}},Gt=n(219),Yt=n.n(Gt),Vt=function(e){var t={Accept:"application/json","Content-Type":"application/json"};return new Promise(function(n,a){Yt.a.post("".concat(zt,"login"),e,{headers:t}).then(function(e){console.log("login response ===> ",e),n(e)}).catch(function(e){a(e)})})},$t=function(e){var t={Accept:"application/json","Content-Type":"application/json"};return new Promise(function(n,a){Yt.a.post("".concat(zt,"signup"),e,{headers:t}).then(function(e){n(e)}).catch(function(e){a(e)})})},Qt=r.a.createContext(),Kt=r.a.createContext(),Xt=0;function Zt(e,t){switch(t.type){case"LOGIN_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0,isAuthenticated:!0});case"LOGIN_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,isAuthenticated:!0,adminID:Xt});case"SIGN_OUT_SUCCESS":case"LOGIN_FAILURE":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,isAuthenticated:0});case"SIGNUP_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0,isSignup:!0});case"SIGNUP_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,isSignup:e.isSignup});case"SIGNUP_FAILURE":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,isSignup:0});default:throw new Error("Unhandled action type: ".concat(t.type))}}function en(e){var t=e.children,n=r.a.useReducer(Zt,{isAuthenticated:!!localStorage.getItem("id_token"),adminID:localStorage.getItem("id_token")}),a=Object(L.a)(n,2),o=a[0],i=a[1];return r.a.createElement(Qt.Provider,{value:o},r.a.createElement(Kt.Provider,{value:i},t))}function tn(){var e=r.a.useContext(Qt);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e}var nn=n(853),an=n(3);n(26);var rn=Object(Fe.b)(function(e){return{admin:e.admin}},function(e){return Object(qe.b)({fetchAdmins:Jt},e)})(function(e){var t=Object(h.g)(),n=Object(a.useState)([]),o=Object(L.a)(n,2),i=o[0],s=o[1],l=Object(Fe.c)(function(e){return e.admin}),m=Object(a.useState)(!1),u=Object(L.a)(m,2),d=u[0];u[1],Object(a.useEffect)(function(){e.fetchAdmins(),console.log("Admin Data === > ",l),s(l.admin)},[]);var f=[{name:"user_id",label:"ID",options:{filter:!0,sort:!0}},{name:"full_name",label:"Full Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!0,sort:!0}},{name:"company_id",label:"Company ID",options:{filter:!0,sort:!0}},{name:"sales_target",label:"Sales Target",options:{filter:!0,sort:!0}},{name:"isActive",label:"Active",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"allow_so",label:"Allow Sales Order",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"user_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){console.log("Edit Event===> ",e),g(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],g=function(e,n){t.push("/app/usermanage/admin/"+n+"/edit")},b={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=l.admin[e.dataIndex].user_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"deleteUser"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Administrators",button:["Add New"],data:i,category:"admin",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Administrators",data:l.admin,columns:f,options:b})))),r.a.createElement(He,{open:d}))}),on=n(259),cn=n(392),sn=n(399),ln=n(242),mn=n(398),un=n(854),dn=Object(_.a)(function(e){return{widgetWrapper:{display:"flex",minHeight:"100%"},widgetHeader:{padding:e.spacing(3),paddingBottom:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},widgetRoot:{boxShadow:e.customShadows.widget},widgetBody:{paddingBottom:e.spacing(3),paddingRight:e.spacing(3),paddingLeft:e.spacing(3)},noPadding:{padding:0},paper:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"},moreButton:{margin:-e.spacing(1),padding:0,width:40,height:40,color:e.palette.text.hint,"&:hover":{backgroundColor:e.palette.primary.main,color:"rgba(255, 255, 255, 0.35)"}}}});function pn(e){var t,n=e.children,o=e.title,i=e.noBodyPadding,c=e.bodyClass,s=e.disableWidgetMenu,l=e.menuItems,m=void 0===l?[]:l,u=e.header,d=(Object(g.a)(e,["children","title","noBodyPadding","bodyClass","disableWidgetMenu","menuItems","header"]),dn()),p=Object(a.useState)(null),f=Object(L.a)(p,2),b=f[0],h=f[1],O=Object(a.useState)(!1),E=Object(L.a)(O,2),_=E[0],C=E[1];return r.a.createElement("div",{className:d.widgetWrapper},r.a.createElement(ge.a,{className:d.paper,classes:{root:d.widgetRoot}},r.a.createElement("div",{className:d.widgetHeader},u||r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h5",color:"textSecondary"},o),!s&&r.a.createElement(T.a,{color:"primary",classes:{root:d.moreButton},"aria-owns":"widget-menu","aria-haspopup":"true",onClick:function(){return C(!0)},buttonRef:h},r.a.createElement(un.a,null)))),r.a.createElement("div",{className:v()(d.widgetBody,(t={},Object(y.a)(t,d.noPadding,i),Object(y.a)(t,c,c),t))},n)),r.a.createElement(ln.a,{id:"widget-menu",open:_,anchorEl:b,onClose:function(){return C(!1)},disableAutoFocusItem:!0},m.map(function(e,t){return r.a.createElement(mn.a,{key:t},r.a.createElement(I.a,null,e))})))}var fn=Object(_.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 15px 0 15px"},addButton:{display:"flex",justifyContent:"center",alignItems:"center"},comboContainer:{marginLeft:e.spacing(1),display:"flex",alignItems:"center"},addIcon:{marginLeft:"5px"},autoRoot:{marginTop:"-8px",marginBottom:0}}}),gn=n(874);function bn(e){var t=fn();Object(R.a)();return r.a.createElement(gn.a,{className:t.formControl,required:!0,variant:"inline",animateYearScrolling:!0,autoOk:!0,clearable:"true",label:e.title,value:e.selectedDate,onChange:function(t){return e.handleChange(t)}})}var hn=n(317),yn=n(404);function On(e){var t=fn();Object(R.a)();return r.a.createElement(hn.a,{className:t.formControl},r.a.createElement(yn.a,{multiline:e.multiline,rows:4,required:!0,label:e.title,disabled:e.disabled,type:e.type,value:e.value,onChange:function(t){return e.handleChange(t)}}))}var vn=n(381),En=n(875);function _n(e){e.required;var t=Object(g.a)(e,["required"]),n=fn(),a=(Object(R.a)(),{options:t.items,getOptionLabel:function(e){return e}});return r.a.createElement(j.a,{container:!0,className:n.comboContainer},r.a.createElement(j.a,{item:!0,md:t.addbtn?10:12},r.a.createElement(En.a,Object.assign({classes:{root:n.autoRoot}},a,{id:t.name,debug:!1,multiple:!1,openOnFocus:!0,value:t.value,renderOption:function(e){return e},onChange:function(e,n){console.log(e,n),t.handleChange(n)},renderInput:function(e){return r.a.createElement(yn.a,Object.assign({},e,{required:t.req,label:t.name,margin:"normal"}))}}))),t.addbtn?r.a.createElement(j.a,{item:!0,md:2},r.a.createElement(vn.a,{title:"Add Item"},r.a.createElement(T.a,{className:n.addIcon},r.a.createElement(xe.a,null)))):null)}var Cn=n(868),jn=n(869),xn=n(870),Tn=n(855),wn=n(856),Sn=n(857),Nn=n(858),kn=n(859),In=n(860),Pn=n(861),Bn=n(862),Rn=n(863),Fn=n(864),Dn=n(865),Mn=n(866),An=n(867),Ln=Object(_.a)(function(e){return{notificationContainer:{display:"flex",alignItems:"center"},notificationContained:{borderRadius:45,height:45,boxShadow:e.customShadows.widgetDark},notificationContainedShadowless:{boxShadow:"none"},notificationIconContainer:{minWidth:45,height:45,borderRadius:45,display:"flex",alignItems:"center",justifyContent:"center",fontSize:24},notificationIconContainerContained:{fontSize:18,color:"#FFFFFF80"},notificationIconContainerRounded:{marginRight:e.spacing(2)},containedTypography:{color:"white"},messageContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1},extraButton:{color:"white","&:hover, &:focus":{background:"transparent"}}}}),Un={"e-commerce":r.a.createElement(Tn.a,null),notification:r.a.createElement(wn.a,null),offer:r.a.createElement(Sn.a,null),info:r.a.createElement(Nn.a,null),message:r.a.createElement(kn.a,null),feedback:r.a.createElement(In.a,null),customer:r.a.createElement(Pn.a,null),shipped:r.a.createElement(Bn.a,null),delivered:r.a.createElement(Rn.a,null),defence:r.a.createElement(Fn.a,null),report:r.a.createElement(Dn.a,null),upload:r.a.createElement(Mn.a,null),disc:r.a.createElement(An.a,null)};function Hn(e){var t,n,a=e.variant,o=Object(g.a)(e,["variant"]),i=Ln(),c=Object(R.a)(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offer";return Un[e]}(o.type),l=r.a.cloneElement(s,{classes:{root:i.notificationIcon},style:{color:"contained"!==a&&c.palette[o.color]&&c.palette[o.color].main}});return r.a.createElement("div",{className:v()(i.notificationContainer,o.className,(t={},Object(y.a)(t,i.notificationContained,"contained"===a),Object(y.a)(t,i.notificationContainedShadowless,o.shadowless),t)),style:{backgroundColor:"contained"===a&&c.palette[o.color]&&c.palette[o.color].main}},r.a.createElement("div",{className:v()(i.notificationIconContainer,(n={},Object(y.a)(n,i.notificationIconContainerContained,"contained"===a),Object(y.a)(n,i.notificationIconContainerRounded,"rounded"===a),n)),style:{backgroundColor:"rounded"===a&&c.palette[o.color]&&u()(c.palette[o.color].main).setAlpha(.15).toRgbString()}},l),r.a.createElement("div",{className:i.messageContainer},r.a.createElement(F,{className:v()(Object(y.a)({},i.containedTypography,"contained"===a)),variant:o.typographyVariant,size:"contained"!==a&&!o.typographyVariant&&"md"},o.message),o.extraButton&&o.extraButtonClick&&r.a.createElement(P.a,{onClick:o.extraButtonClick,disableRipple:!0,className:i.extraButton},o.extraButton)))}var qn=function(){return console.log("fetching Company ..."),function(e){e({type:ct}),setTimeout(function(){fetch("".concat(zt,"getCompany"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;return e({type:st,company:t}),console.log("Get Company===>",t),t}).catch(function(t){e(function(e){return{type:lt,error:e}}(t))})},1e3)}},zn=n(320),Wn=n(325),Jn=n(441),Gn=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT],Yn={PaperProps:{style:{maxHeight:224,width:250}}};var Vn=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Ce(),n=Object(h.g)(),o=(Object(Fe.c)(function(e){return e.admin}),Object(a.useState)(null)),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)([]),u=Object(L.a)(m,2),d=(u[0],u[1]),p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(a.useState)(0)),O=Object(L.a)(b,2),v=(O[0],O[1],Object(Fe.c)(function(e){return e.company})),E=function(e){return Object(an.b)(e)},_=Object(a.useState)({full_name:"",email:"",phone_number:"",company_id:"",company_entity_name:"",isActive:!1,allow_so:!1,sales_target:0}),C=Object(L.a)(_,2),x=C[0],T=C[1],w=e.match.params.admin;Object(a.useEffect)(function(){e.fetchCompany(),console.log(v),d(v.company),S(w)},[]);var S=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"getUserInfoById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:I(n[0].company_id.split(", ")),T(function(){return Object(l.a)(Object(l.a)({},x),{},{full_name:n[0].full_name,email:n[0].email,phone_number:n[0].phone_number,companyIDList:n[0].company_id.split(", "),company_entity_name:n[0].company_entity_name,isActive:n[0].isActive,sales_target:n[0].sales_target,allow_so:n[0].allow_so})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},N=function(e){console.log("originall ====> ",e,v.company);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(v.company),k=function(e){var t=v.company.filter(function(t){return t.company_entity_name==e});if(null!=t[0])return t[0].company_id.toString()},I=function(e){for(var t=[],n=function(n,a){var r=v.company.filter(function(t){return t.company_id.toString()==e[n]});null!=r[0]&&t.push(r[0].company_entity_name),M(t)},a=0,r=e.length;a<r;a+=1)n(a)},B=r.a.useState([]),R=Object(L.a)(B,2),D=R[0],M=R[1],A=function(e,t){if("isActive"==e.target.name)T(Object(l.a)(Object(l.a)({},x),{},Object(y.a)({},e.target.name,e.target.checked)));else if("allow_so"==e.target.name)T(Object(l.a)(Object(l.a)({},x),{},Object(y.a)({},e.target.name,e.target.checked)));else{var n=e.target,a=(n.name,n.value);T(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}},U=function(){var e;null!=x.full_name&&""!=x.full_name?x.email.length<3||0==(e=x.email,!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))?E("Please enter valid email."):0==x.phone_number.length||x.phone_number.length<7?E("Please enter valid phone number"):x.companyIDList!=[]?function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,full_name:x.full_name,email:x.email,phone_number:x.phone_number,company_id:x.companyIDList.join(", "),isAdmin:!0,isActive:x.isActive,sales_target:x.sales_target,allow_so:x.allow_so})};fetch("".concat(zt,"updateUser"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:q("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){q("error"),console.error("There was an error!",e)})}(w):E("Please enter company name."):E("Please enter name.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Admin"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Full Name",value:x.full_name,handleChange:function(e){return A(e,"full_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Email",value:x.email,handleChange:function(e){return A(e,"email")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:x.phone_number,handleChange:function(e){return A(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(hn.a,{className:t.formControl},r.a.createElement(zn.a,{id:"demo-mutiple-checkbox-label"},"Companies"),r.a.createElement(Wn.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:D,onChange:function(e){console.log("handleCompanyChange==>",e.target.value),M(e.target.value);for(var t=e.target.value,n=[],a=0,r=t.length;a<r;a+=1)n.push(k(t[a]));T(function(e){return Object(l.a)(Object(l.a)({},e),{},{companyIDList:n})})},input:r.a.createElement(on.a,null),renderValue:function(e){return e.join(", ")},MenuProps:Yn},N.map(function(e){return r.a.createElement(mn.a,{key:e,value:e},r.a.createElement(Jn.a,{checked:D.indexOf(e)>-1}),r.a.createElement(ie.a,{primary:e}))}))))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Sales Target",value:x.sales_target,handleChange:function(e){return A(e,"sales_target")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(F,null,"Activate"),r.a.createElement(j.a,{component:"label",container:!0,alignItems:"center",spacing:0},r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:x.isActive,onChange:A,name:"isActive"}),label:"Active"}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(F,null,"Allow Sales Order"),r.a.createElement(j.a,{component:"label",container:!0,alignItems:"center",spacing:0},r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:x.allow_so,onChange:A,name:"allow_so"}),label:"Allow"})))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/usermanage/admin")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return U()}},"Save")))))))));function H(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function q(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Something went wrong!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:H};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Gn[g],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),$n=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT],Qn={PaperProps:{style:{maxHeight:224,width:250}}};var Kn=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Ce(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)([]),u=Object(L.a)(m,2),d=(u[0],u[1]),p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(Fe.c)(function(e){return e.company})),O=function(e){return Object(an.b)(e)},v=function(e){return!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)};Object(a.useEffect)(function(){e.fetchCompany(),console.log(b),d(b.data)},[]),console.log("Add Admin get companys ====> ",b.company);var E=function(e){console.log("originall ====> ",e,b.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(b.company),_=Object(a.useState)({full_name:"",password:"",email:"",phone_number:"",companyIDList:[],company_entity_name:"",sales_target:0,allow_so:0}),C=Object(L.a)(_,2),x=C[0],T=C[1],w=r.a.useState([]),S=Object(L.a)(w,2),N=S[0],k=S[1],I=function(e){var t=b.company.filter(function(t){return t.company_entity_name==e});if(null!=t[0])return t[0].company_id.toString()},B=function(e,t){if("allow_so"==e.target.name)T(Object(l.a)(Object(l.a)({},x),{},Object(y.a)({},e.target.name,e.target.checked)));else{var n=e.target,a=(n.name,n.value);T(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Admin"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/usermanage/admin")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Full Name",value:x.full_name,handleChange:function(e){return B(e,"full_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Email",value:x.email,handleChange:function(e){return B(e,"email")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Password",value:x.password,handleChange:function(e){return B(e,"password")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:x.phone_number,type:"number",maxLength:10,handleChange:function(e){return B(e,"phone_number")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(hn.a,{className:t.formControl},r.a.createElement(zn.a,{id:"demo-mutiple-checkbox-label"},"Companies"),r.a.createElement(Wn.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:N,onChange:function(e){k(e.target.value);for(var t=e.target.value,n=[],a=0,r=t.length;a<r;a+=1)n.push(I(t[a]));console.log("handleCompanyChange==>",n),T(function(e){return Object(l.a)(Object(l.a)({},e),{},{companyIDList:n})})},input:r.a.createElement(on.a,null),renderValue:function(e){return e.join(", ")},MenuProps:Qn},E.map(function(e){return r.a.createElement(mn.a,{key:e,value:e},r.a.createElement(Jn.a,{checked:N.indexOf(e)>-1}),r.a.createElement(ie.a,{primary:e}))}))))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Sales Target",value:x.sales_target,handleChange:function(e){return B(e,"sales_target")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(F,null,"Allow Sales Order"),r.a.createElement(j.a,{component:"label",container:!0,alignItems:"center",spacing:0},r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:x.allow_so,onChange:B,name:"allow_so"}),label:"Allow"})))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=x.full_name&&""!=x.full_name)if(x.email.length<3||0==v(x.email))O("Please enter valid email.");else if(0==x.phone_number.length||x.phone_number.length<7)O("Please enter valid phone number");else if(x.companyIDList!=[]){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:x.full_name,password:x.password,email:x.email,phone_number:x.phone_number,company_id:x.companyIDList.join(", "),isAdmin:!0,isActive:!0,sales_target:x.sales_target,allow_so:x.allow_so})};fetch("".concat(zt,"addUser"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.user_id){e.next=14;break}return O("This user is already exist.\n Please use another email."),e.abrupt("return");case 14:0!=n.id&&D("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)}),T(function(e){return Object(l.a)(Object(l.a)({},e),{},{full_name:"",password:"",email:"",phone_number:"",companyIDList:[],allow_so:0,sales_target:0})})}else O("Please enter company name.");else O("Please enter name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=x.full_name&&""!=x.full_name)if(x.email.length<3||0==v(x.email))O("Please enter valid email.");else if(0==x.phone_number.length||x.phone_number.length<7)O("Please enter valid phone number");else if(x.companyIDList!=[]){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:x.full_name,password:x.password,email:x.email,phone_number:x.phone_number,company_id:x.companyIDList.join(", "),isAdmin:!0,isActive:!0,sales_target:x.sales_target,allow_so:x.allow_so})};fetch("".concat(zt,"addUser"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.user_id){e.next=14;break}return O("This user is already exist.\n Please use another email."),e.abrupt("return");case 14:0!=n.id&&D("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)}),n.push("/app/usermanage/admin")}else O("Please enter company name.");else O("Please enter name.")}()}},"Save & Back")))))))));function R(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function D(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:R};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:$n[g],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Xn=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}},notificationItem:{marginTop:e.spacing(2)},notificationCloseButton:{position:"absolute",right:e.spacing(2)},toastsContainer:{width:400,marginTop:e.spacing(6),right:0},progress:{visibility:"hidden"},notification:{display:"flex",alignItems:"center",background:"transparent",boxShadow:"none",overflow:"visible"},notificationComponent:{paddingRight:e.spacing(4)}}});var Zn=function(){return console.log("fetching Users ..."),function(e){e({type:$e});var t={isAdmin:0};setTimeout(function(){fetch("".concat(zt,"getUser"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("User Action +++>",n),{type:Qe,user:n})),console.log("Get User===>",t),t}).catch(function(t){e(function(e){return{type:Ke,error:e}}(t))})},1e3)}};var ea=Object(Fe.b)(function(e){return{user:e.user}},function(e){return Object(qe.b)({fetchUsers:Zn},e)})(function(e){Xn();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=s[0],m=s[1],u=Object(a.useState)([]),d=Object(L.a)(u,2),f=d[0],g=d[1],b=Object(Fe.c)(function(e){return e.user}),y=Object(a.useState)(!1),O=Object(L.a)(y,2),v=O[0],E=(O[1],tn());Object(a.useEffect)(function(){e.fetchUsers(),console.log(b,e.user,E),g(b.data)},[]);var _=[{name:"user_id",label:"ID",options:{filter:!0,sort:!0}},{name:"full_name",label:"Full Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!0,sort:!0}},{name:"company_id",label:"Company ID",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Company Name",options:{filter:!0,sort:!0}},{name:"isActive",label:"Active",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"user_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){C(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],C=function(e,n){m(n),console.log("=================>",l,n),t.push("/app/usermanage/user/"+n+"/edit")},x={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=b.user[e.dataIndex].user_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"deleteUser"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Users",button:["Add New"],data:f,category:"user",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Users",data:b.user,columns:_,options:x})))),r.a.createElement(He,{open:v}))}),ta=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var na=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Xn(),n=Object(h.g)(),o=(Object(Fe.c)(function(e){return e.user}),Object(a.useState)(null)),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)([]),u=Object(L.a)(m,2),d=(u[0],u[1]),p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(a.useState)(0)),O=Object(L.a)(b,2),v=(O[0],O[1],Object(Fe.c)(function(e){return e.company})),E=function(e){return Object(an.b)(e)},_=Object(a.useState)({full_name:"",password:"",email:"",phone_number:"",company_id:"",company_entity_name:"",isActive:!1}),C=Object(L.a)(_,2),x=C[0],T=C[1],w=e.match.params.user;Object(a.useEffect)(function(){e.fetchCompany(),console.log(v),d(v.data),S(w)},[]);var S=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"getUserInfoById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:T(function(){return Object(l.a)(Object(l.a)({},x),{},{full_name:n[0].full_name,password:n[0].password,email:n[0].email,phone_number:n[0].phone_number,company_id:n[0].company_id.toString(),company_entity_name:n[0].company_entity_name,isActive:n[0].isActive})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},N=function(e){console.log("originall ====> ",e,v.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(v.company),k=function(e,t){if(["company_entity_name"].includes(t))!function(e){var t=v.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&T(Object(l.a)(Object(l.a)({},x),{},{company_id:t[0].company_id.toString()}))}(e),T(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("isActive"==e.target.name)T(Object(l.a)(Object(l.a)({},x),{},Object(y.a)({},e.target.name,e.target.checked)));else{var n=e.target,a=(n.name,n.value);T(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}},I=function(){var e;null!=x.full_name&&""!=x.full_name?x.email.length<3||0==(e=x.email,!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))?E("Please enter valid email."):0==x.phone_number.length||x.phone_number.length<7?E("Please enter valid phone number"):null!=x.company_entity_name.length&&""!=x.company_entity_name?function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,full_name:x.full_name,email:x.email,phone_number:x.phone_number,company_id:x.company_id,isAdmin:!1,isActive:x.isActive,sales_target:0,allow_so:0})};fetch("".concat(zt,"updateUser"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:R("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){R("error"),console.error("There was an error!",e)})}(w):E("Please enter company name."):E("Please enter name.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit User"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Full Name",value:x.full_name,handleChange:function(e){return k(e,"full_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Email",value:x.email,handleChange:function(e){return k(e,"email")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:x.phone_number,handleChange:function(e){return k(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,addbtn:!1,name:"Company Name",items:N,value:x.company_entity_name,handleChange:function(e){return k(e,"company_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(F,null,"Activate"),r.a.createElement(j.a,{component:"label",container:!0,alignItems:"center",spacing:0},r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:x.isActive,onChange:k,name:"isActive"}),label:"Active"})))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/usermanage/user")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return I()}},"Save")))))))));function B(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function R(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Something went wrong!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:B};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:ta[g],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),aa=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var ra=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Xn(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)([]),u=Object(L.a)(m,2),d=(u[0],u[1]),p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(Fe.c)(function(e){return e.company})),O=function(e){return Object(an.b)(e)},v=function(e){return!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)};Object(a.useEffect)(function(){e.fetchCompany(),console.log(b),d(b.data)},[]),console.log("Add Admin get companys ====> ",b.company);var E=function(e){console.log("originall ====> ",e,b.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(b.company),_=Object(a.useState)({full_name:"",password:"",email:"",phone_number:"",company_id:"",company_entity_name:"",sales_target:0,allow_so:0}),C=Object(L.a)(_,2),x=C[0],T=C[1],w=function(e,t){if(["company_entity_name"].includes(t))!function(e){var t=b.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&T(Object(l.a)(Object(l.a)({},x),{},{company_id:t[0].company_id.toString()}))}(e),T(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var n=e.target,a=(n.name,n.value);T(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New User"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/usermanage/user")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Full Name",value:x.full_name,handleChange:function(e){return w(e,"full_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Email",value:x.email,handleChange:function(e){return w(e,"email")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Password",value:x.password,handleChange:function(e){return w(e,"password")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:x.phone_number,type:"number",handleChange:function(e){return w(e,"phone_number")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,addbtn:!1,name:"Company Name",items:E,value:x.company_entity_name,handleChange:function(e){return w(e,"company_entity_name")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=x.full_name&&""!=x.full_name)if(x.email.length<3||0==v(x.email))O("Please enter valid email.");else if(0==x.phone_number.length||x.phone_number.length<7)O("Please enter valid phone number");else if(null!=x.company_entity_name&&""!=x.company_entity_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:x.full_name,password:x.password,email:x.email,phone_number:x.phone_number,company_id:x.company_id,sales_target:0,allow_so:0,isAdmin:!1,isActive:!1})};fetch("".concat(zt,"addUser"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.user_id){e.next=14;break}return O("This user is already exist.\n Please use another email."),e.abrupt("return");case 14:0!=n.id&&(N("shipped"),T(function(){return{full_name:"",password:"",email:"",phone_number:"",company_id:"",company_entity_name:""}}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter company name.");else O("Please enter name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=x.full_name&&""!=x.full_name)if(x.email.length<3||0==v(x.email))O("Please enter valid email.");else if(0==x.phone_number.length||x.phone_number.length<7)O("Please enter valid phone number");else if(null!=x.company_entity_name&&""!=x.company_entity_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:x.full_name,password:x.password,email:x.email,phone_number:x.phone_number,company_id:x.company_id,sales_target:0,allow_so:0,isAdmin:!1,isActive:!1})};fetch("".concat(zt,"addUser"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.user_id){e.next=14;break}return O("This user is already exist.\n Please use another email."),e.abrupt("return");case 14:0!=a.id&&(N("shipped"),T(function(){return{full_name:"",password:"",email:"",phone_number:"",company_id:"",company_entity_name:""}}),n.push("/app/usermanage/user"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter company name.");else O("Please enter name.")}()}},"Save & Back")))))))));function S(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function N(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:S};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:aa[g],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),oa=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var ia=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){oa();var t=Object(h.g)(),n=Object(a.useState)([]),o=Object(L.a)(n,2),i=o[0],s=o[1],l=Object(Fe.c)(function(e){return e.company});Object(a.useEffect)(function(){e.fetchCompany(),console.log(l),s(l.company)},[]);var m=[{name:"company_id",label:"ID",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Entity Name",options:{filter:!0,sort:!0}},{name:"company_owner_name",label:"Owner Name",options:{filter:!0,sort:!0}},{name:"address",label:"Address",options:{filter:!0,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!0,sort:!0}},{name:"time_limit_per_schedule",label:"Time Limit",options:{filter:!0,sort:!0}},{name:"late_policy",label:"Late Policy",options:{filter:!0,sort:!0}},{name:"min_schedule_time",label:"Min Time",options:{filter:!0,sort:!0}},{name:"max_schedule_time",label:"Max Time",options:{filter:!0,sort:!0}},{name:"notes",label:"Notes",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"upload",label:"Upload",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"company_info",label:"Company Information",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return null!=e?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,e.split(", ").map(function(e,t){return r.a.createElement("li",null,r.a.createElement("a",{key:t,href:"".concat(zt,"pdf/").concat(e),target:"_blank"},e))}))):r.a.createElement(r.a.Fragment,null)}}},{name:"company_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){u(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],u=function(e,n){console.log("====",i[n]),t.push("/app/company/"+n+"/edit")},d={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=l.company[e.dataIndex].company_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"deleteCompany"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Companies",button:["Add New"],data:i,category:"company",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Companies",data:l.company,columns:m,options:d})))))}),ca=n(267),sa=n(268),la=n(461),ma=n(460),ua=n(396),da=n(307),pa=Yt.a.create({baseURL:"http://185.151.51.169:4000",headers:{"Content-Type":"application/json"}}),fa=new(function(){function e(){Object(ca.a)(this,e)}return Object(sa.a)(e,[{key:"upload",value:function(e,t){var n=new FormData;return n.append("file",e),pa.post("/upload_pdf",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return pa.get("/files")}}]),e}()),ga=Object(B.a)(function(e){return{root:{height:15,borderRadius:5},colorPrimary:{backgroundColor:"#EEEEEE"},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}})(ua.a),ba=function(e){Object(la.a)(n,e);var t=Object(ma.a)(n);function n(e){var a;return Object(ca.a)(this,n),(a=t.call(this,e)).state={selectedFiles:void 0,currentFile:void 0,progress:0,message:"",isError:!1,fileInfos:[]},a}return Object(sa.a)(n,[{key:"selectFile",value:function(e){console.log("this=>",e.target.files),this.setState({selectedFiles:e.target.files})}},{key:"upload",value:function(){for(var e=this,t=[],n=0;n<this.state.selectedFiles.length;n++){var a=this.state.selectedFiles[n];this.setState({progress:0,currentFile:a}),fa.upload(a,function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})}).then(function(n){console.log("pop=>",n.data.fileName.split("/").pop().toString()),t.push(n.data.fileName.split("/").pop().toString()),e.setState({message:n.data.message,isError:!1})}).then(function(t){e.setState({fileInfos:t.data})}).catch(function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0,isError:!0})}),this.setState({selectedFiles:void 0})}console.log("fileNameList=>",t),this.setState({fileInfos:t}),this.props.setFileList(t)}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,n=e.currentFile,a=e.progress,o=e.fileInfos;return r.a.createElement("div",{className:"mg20"},n&&r.a.createElement(da.a,{className:"mb25",display:"flex",alignItems:"center"},r.a.createElement(da.a,{width:"100%",mr:1},r.a.createElement(ga,{variant:"determinate",value:a})),r.a.createElement(da.a,{minWidth:35},r.a.createElement(I.a,{variant:"body2",color:"textSecondary"},"".concat(a,"%")))),r.a.createElement("label",{htmlFor:"btn-upload"},r.a.createElement("input",{id:"btn-upload",name:"btn-upload",style:{display:"none"},type:"file",multiple:!0,onChange:this.selectFile.bind(this)}),r.a.createElement(P.a,{className:"btn-choose",variant:"outlined",component:"span"},"Choose Files")),r.a.createElement(P.a,{className:"btn-upload",color:"primary",variant:"contained",component:"span",disabled:!t,onClick:this.upload.bind(this)},"Upload"),r.a.createElement(I.a,{className:"list-header"},"List of Files"),r.a.createElement("ul",{className:"list-group"},o&&o.map(function(e,t){return r.a.createElement(re.a,{divider:!0,key:t},e)})))}}]),n}(a.Component),ha=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];function ya(e){var t=oa(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],function(e){return Object(an.b)(e)}),f=Object(a.useState)({id:"",entity_name:"",owner_name:"",address:"",phone_number:"",time_limit_per_schedule:30,late_policy:60,min_schedule_time:60,max_schedule_time:360,notes:1,upload:0,company_info:[]}),g=Object(L.a)(f,2),b=g[0],O=g[1];Object(a.useEffect)(function(){},[]);var v=function(e,t){if("notes"==e.target.name||"upload"==e.target.name)O(Object(l.a)(Object(l.a)({},b),{},Object(y.a)({},e.target.name,e.target.checked)));else{var n=e.target,a=(n.name,n.value);O(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Company"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(C,{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/company")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:b.entity_name,handleChange:function(e){return v(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Owner Name",value:b.owner_name,handleChange:function(e){return v(e,"owner_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:b.phone_number,handleChange:function(e){return v(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Address",value:b.address,handleChange:function(e){return v(e,"address")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Min Time",value:b.min_schedule_time,handleChange:function(e){return v(e,"min_schedule_time")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Max Time",value:b.max_schedule_time,handleChange:function(e){return v(e,"max_schedule_time")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Time Limit",value:b.time_limit_per_schedule,handleChange:function(e){return v(e,"time_limit_per_schedule")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Late Policy",value:b.late_policy,handleChange:function(e){return v(e,"late_policy")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Notes")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:b.notes,onChange:v,name:"notes"}),label:"Notes"})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Upload")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:b.upload,onChange:v,name:"upload"}),label:"Upload"}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Company Information")),r.a.createElement(ba,{setFileList:function(e){O(function(t){return Object(l.a)(Object(l.a)({},t),{},{company_info:e})})}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=b.entity_name&&""!=b.entity_name)if(null!=b.owner_name&&""!=b.owner_name)if(0==b.phone_number.length||b.phone_number.length<7)p("Please enter valid phone number");else if(null!=b.address&&""!=b.address)if(b.min_schedule_time<0)p("Please enter valid minimum schedule time.");else if(b.max_schedule_time<0)p("Please enter valid maximum schedule time.");else if(b.min_schedule_time>b.max_schedule_time)p("Minimum schedule time can't bigger than Maximum schedule time.");else if(b.time_limit_per_schedule<0)p("Please enter valid time limit.");else if(b.late_policy<0)p("Please enter valid late policy.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_entity_name:b.entity_name,company_owner_name:b.owner_name,address:b.address,phone_number:b.phone_number,notes:b.notes,upload:b.upload,time_limit_per_schedule:b.time_limit_per_schedule,late_policy:b.late_policy,min_schedule_time:b.min_schedule_time,max_schedule_time:b.max_schedule_time,company_info:b.company_info.join(", ")})};fetch("".concat(zt,"addCompany"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.company_id){e.next=14;break}return p("This company is already exist."),e.abrupt("return");case 14:0!=n.id&&(_("shipped"),O({id:"",entity_name:"",owner_name:"",address:"",phone_number:"",time_limit_per_schedule:30,late_policy:60,min_schedule_time:60,max_schedule_time:360,notes:1,upload:0,company_info:[]}),window.location.reload());case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){p("Something went wrong!\n"+e),console.error("There was an error!",e)})}else p("Please enter company address.");else p("Please enter company owner name.");else p("Please enter company entity name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=b.entity_name&&""!=b.entity_name)if(null!=b.owner_name&&""!=b.owner_name)if(0==b.phone_number.length||b.phone_number.length<7)p("Please enter valid phone number");else if(null!=b.address&&""!=b.address)if(b.min_schedule_time<0)p("Please enter valid minimum schedule time.");else if(b.max_schedule_time<0)p("Please enter valid maximum schedule time.");else if(b.min_schedule_time>b.max_schedule_time)p("Minimum schedule time can't bigger than Maximum schedule time.");else if(b.time_limit_per_schedule<0)p("Please enter valid time limit.");else if(b.late_policy<0)p("Please enter valid late policy.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_entity_name:b.entity_name,company_owner_name:b.owner_name,address:b.address,phone_number:b.phone_number,notes:b.notes,upload:b.upload,time_limit_per_schedule:b.time_limit_per_schedule,late_policy:b.late_policy,min_schedule_time:b.min_schedule_time,max_schedule_time:b.max_schedule_time,company_info:b.company_info.join(", ")})};fetch("".concat(zt,"addCompany"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.company_id){e.next=14;break}return p("This company is already exist."),e.abrupt("return");case 14:0!=a.id&&(_("shipped"),O({id:"",entity_name:"",owner_name:"",address:"",phone_number:"",time_limit_per_schedule:30,late_policy:60,min_schedule_time:60,max_schedule_time:360,notes:1,upload:0,company_info:[]}),n.push("/app/company"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){p("Something went wrong!\n"+e),console.error("There was an error!",e)})}else p("Please enter company address.");else p("Please enter company owner name.");else p("Please enter company entity name.")}()}},"Save & Back")))))))));function E(){var e={type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"};an.b.update(c,{render:r.a.createElement(Hn,e),type:"success"}),s(null)}function _(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:E};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:ha[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}function C(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})}}var Oa=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var va=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=oa(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(a.useState)(0)),b=Object(L.a)(g,2),O=(b[0],b[1],Object(Fe.c)(function(e){return e.company}),function(e){return Object(an.b)(e)}),v=Object(a.useState)({id:"",entity_name:"",owner_name:"",address:"",phone_number:"",time_limit_per_schedule:0,late_policy:0,min_schedule_time:0,max_schedule_time:0,notes:0,upload:0,company_info:[],company_infoList:""}),E=Object(L.a)(v,2),_=E[0],C=E[1],x=e.match.params.company;Object(a.useEffect)(function(){T(x)},[]);var T=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getCompanyById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:C(function(){return Object(l.a)(Object(l.a)({},_),{},{entity_name:n.company_entity_name,owner_name:n.company_owner_name,address:n.address,phone_number:n.phone_number,time_limit_per_schedule:n.time_limit_per_schedule,late_policy:n.late_policy,min_schedule_time:n.min_schedule_time,max_schedule_time:n.max_schedule_time,notes:n.notes,upload:n.upload,company_infoList:n.company_info})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},w=function(e,t){if("notes"==e.target.name||"upload"==e.target.name)C(Object(l.a)(Object(l.a)({},_),{},Object(y.a)({},e.target.name,e.target.checked)));else{var n=e.target,a=(n.name,n.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}},S=function(){null!=_.entity_name&&""!=_.entity_name?null!=_.owner_name&&""!=_.owner_name?0==_.phone_number.length||_.phone_number.length<7?O("Please enter valid phone number"):null!=_.address&&""!=_.address?_.min_schedule_time<0?O("Please enter valid minimum schedule time."):_.max_schedule_time<0?O("Please enter valid maximum schedule time."):_.min_schedule_time>_.max_schedule_time?O("Minimum schedule time can't bigger than Maximum schedule time."):_.time_limit_per_schedule<0?O("Please enter valid time limit."):_.late_policy<0?O("Please enter valid late policy."):function(e){console.log("========",_.company_info);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e,company_entity_name:_.entity_name,company_owner_name:_.owner_name,address:_.address,phone_number:_.phone_number,notes:_.notes,upload:_.upload,time_limit_per_schedule:_.time_limit_per_schedule,late_policy:_.late_policy,min_schedule_time:_.min_schedule_time,max_schedule_time:_.max_schedule_time,company_info:0==_.company_info.length?_.company_infoList:_.company_info.join(", ")})};fetch("".concat(zt,"updateCompany"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:k("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){k("error"),console.error("There was an error!",e)})}(x):O("Please enter company address."):O("Please enter company owner name."):O("Please enter company entity name.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Company"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:_.entity_name,handleChange:function(e){return w(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Owner Name",value:_.owner_name,handleChange:function(e){return w(e,"owner_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Address",value:_.address,handleChange:function(e){return w(e,"address")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:_.phone_number,handleChange:function(e){return w(e,"phone_number")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Time Limit",value:_.time_limit_per_schedule,handleChange:function(e){return w(e,"time_limit_per_schedule")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Late Policy",value:_.late_policy,handleChange:function(e){return w(e,"late_policy")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Min Time",value:_.min_schedule_time,handleChange:function(e){return w(e,"min_schedule_time")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Max Time",value:_.max_schedule_time,handleChange:function(e){return w(e,"max_schedule_time")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Notes")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:_.notes,onChange:w,name:"notes"}),label:"Notes"})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Upload")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:_.upload,onChange:w,name:"upload"}),label:"Upload"}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Company Information ( If you want to change, please upload PDFs and save. )")),r.a.createElement(ba,{setFileList:function(e){console.log("edit===> ",e),C(function(t){return Object(l.a)(Object(l.a)({},t),{},{company_info:e})})}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/company")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return S()}},"Save")))))))));function N(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function k(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:N};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Oa[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Ea=n(50),_a=n.n(Ea),Ca=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},table:{minWidth:650},difference:{backgroundColor:e.palette.success.main,color:"red!important"},divider:{marginTop:20,marginBottom:e.spacing(1)},buttonContainer:{paddingTop:10,display:"flex",justifyContent:"flex-end"}}});var ja=function(){return function(e){e({type:tt}),setTimeout(function(){fetch("".concat(zt,"getClient"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:nt,client:n})),console.log("Get Client===>",t),t}).catch(function(t){e(function(e){return{type:at,error:e}}(t))})},1e3)}};var xa=Object(Fe.b)(function(e){return{client:e.client}},function(e){return Object(qe.b)({fetchClient:ja},e)})(function(e){var t=Object(h.g)(),n=Object(a.useState)([]),o=Object(L.a)(n,2),i=o[0],s=o[1],l=Object(Fe.c)(function(e){return e.client});Object(a.useEffect)(function(){console.log(l),e.fetchClient(),s(l.client)},[]);var m=function(e){return Object(an.b)(e)},u=[{name:"client_id",label:"ID",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Entity Name",options:{filter:!0,sort:!0}},{name:"address",label:"Address",options:{filter:!0,sort:!0}},{name:"location",label:"Location",options:{filter:!0,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!0,sort:!0}},{name:"company_id",label:"Company ID",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Company Name",options:{filter:!0,sort:!0}},{name:"custom_field",label:"Custom Field",options:{filter:!0,sort:!0}},{name:"approved",label:"Approved",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:1==e?"yes":"no"})}}},{name:"full_name",label:"Created by",options:{filter:!0,sort:!0}},{name:"client_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){d(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],d=function(e,n){t.push("/app/client/"+n+"/edit")},f={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=l.client[e.dataIndex].client_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})};fetch("".concat(zt,"deleteClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){m("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e){n.push(e.data)}),console.log(n)}},g=function(e){for(var t=1;t<e.length-1;t++){var n=e[t],a={client_entity_name:n[0],address:n[1],phone_number:n[3],location:n[2],company_id:n[4],custom_field:n[5],approved:n[6],created_by:n[7]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat(zt,"addClient"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return m("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&m("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){m("Something went wrong!\n"+e),console.error("There was an error!",e)})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Clients",button:["Add New"],data:i,category:"client",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Clients",data:l.client,columns:u,options:f})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),g(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))}),Ta=n(88),wa=n.n(Ta);wa.a.setApiKey(Wt);var Sa=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Na=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Ca(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(Fe.c)(function(e){return e.company})),f=Object(a.useState)([]),g=Object(L.a)(f,2),b=(g[0],g[1]),O=function(e){return Object(an.b)(e)},v=Object(a.useState)({id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",company_entity_name:"",approved:"1",created_by:localStorage.getItem("user_id")}),E=Object(L.a)(v,2),_=E[0],C=E[1];Object(a.useEffect)(function(){e.fetchCompany(),console.log(p),b(p.data)},[]);var x=function(e){console.log("originall ====> ",e,p.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(p.company),T=function(e,t){if("address"==t){var n=e.target,a=(n.name,n.value);console.log("$$$$$$$$$",a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{address:a})}),wa.a.fromAddress(a).then(function(e){var t=e.results[0].geometry.location,n=t.lat,a=t.lng;console.log(n,a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:n+" "+a})})},function(e){console.error(e),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:""})})})}else if(["company_entity_name"].includes(t))!function(e){var t=p.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&C(Object(l.a)(Object(l.a)({},_),{},{company_id:t[0].company_id.toString()}))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var r=e.target,o=(r.name,r.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,o))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/client")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:_.entity_name,handleChange:function(e){return T(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Custom Field",value:_.custom_field,handleChange:function(e){return T(e,"custom_field")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:_.phone_number,type:"number",maxLength:10,handleChange:function(e){return T(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:x,value:_.company_entity_name,handleChange:function(e){return T(e,"company_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Address",value:_.address,handleChange:function(e){return T(e,"address")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Location(For example: -123.1231 -23.3452)",value:_.location,handleChange:function(e){return T(e,"location")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=_.entity_name&&""!=_.entity_name)if(null!=_.address&&""!=_.address)if(null!=_.location&&""!=_.location)if(0==_.phone_number.length||_.phone_number.length<7)O("Please enter valid phone number");else if(null!=_.custom_field&&""!=_.custom_field){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id,approved:_.approved,created_by:_.created_by})};fetch("".concat(zt,"addClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return O("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&(S("shipped"),C(function(){return Object(l.a)(Object(l.a)({},_),{},{id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",company_entity_name:""})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter custom field.");else O("Please enter client location.");else O("Please enter client address.");else O("Please enter client entity name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=_.entity_name&&""!=_.entity_name)if(null!=_.address&&""!=_.address)if(null!=_.location&&""!=_.location)if(0==_.phone_number.length||_.phone_number.length<7)O("Please enter valid phone number");else if(null!=_.custom_field&&""!=_.custom_field){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id,approved:_.approved,created_by:_.created_by})};fetch("".concat(zt,"addClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.client_id){e.next=14;break}return O("This client is already exist."),e.abrupt("return");case 14:0!=a.id&&(S("shipped"),C(function(){return Object(l.a)(Object(l.a)({},_),{},{id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",company_entity_name:""})}),n.push("/app/client"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter custom field.");else O("Please enter client location.");else O("Please enter client address.");else O("Please enter client entity name.")}()}},"Save & Back")))))))));function w(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function S(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:w};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Sa[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}});wa.a.setApiKey(Wt);var ka=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Ia=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Ca(),n=Object(h.g)(),o=Object(a.useState)([]),i=Object(L.a)(o,2),c=(i[0],i[1]),s=Object(a.useState)(null),m=Object(L.a)(s,2),u=m[0],d=m[1],p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(Fe.c)(function(e){return e.company})),O=function(e){return Object(an.b)(e)},v=Object(a.useState)({id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",company_entity_name:"",approved:"0",created_by:""}),E=Object(L.a)(v,2),_=E[0],C=E[1],x=e.match.params.client;Object(a.useEffect)(function(){e.fetchCompany(),c(b.company),T(x)},[]);var T=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})};fetch("".concat(zt,"getClientProfileById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("response edit client",n),C(function(){return Object(l.a)(Object(l.a)({},_),{},{entity_name:n.client_entity_name,custom_field:n.custom_field,address:n.address,phone_number:n.phone_number,company_id:n.company_id,company_entity_name:n.company_entity_name,location:n.location,approved:n.approved,created_by:n.created_by})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},w=function(e){console.log("originall ====> ",e,b.company);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(b.company),S=function(e,t){if("address"==t){var n=e.target,a=(n.name,n.value);console.log("$$$$$$$$$",a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{address:a})}),wa.a.fromAddress(a).then(function(e){var t=e.results[0].geometry.location,n=t.lat,a=t.lng;console.log(n,a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:n+" "+a})})},function(e){console.error(e),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:""})})})}else if(["company_entity_name"].includes(t))!function(e){var t=b.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&C(Object(l.a)(Object(l.a)({},_),{},{company_id:t[0].company_id.toString()}))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("approved"==e.target.name)console.log("approved====>",e.target.checked),C(Object(l.a)(Object(l.a)({},_),{},Object(y.a)({},e.target.name,e.target.checked)));else{var r=e.target,o=(r.name,r.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,o))})}},N=function(){null!=_.entity_name&&""!=_.entity_name?null!=_.custom_field&&""!=_.custom_field?null!=_.address&&""!=_.address?null!=_.location&&""!=_.location?_.phone_number.length<7?O("Please enter valid phone number"):null!=_.company_entity_name.length&&""!=_.company_entity_name?function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e,client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id,approved:_.approved,created_by:_.created_by})};console.log("------------------------",t.body),fetch("".concat(zt,"updateClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:I("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){I("error"),console.error("There was an error!",e)})}(x):O("Please enter company name."):O("Please enter client location."):O("Please enter client address."):O("Please enter custom field."):O("Please enter client entity name.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:_.entity_name,handleChange:function(e){return S(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Custom Field(For example: Gender: Male, Age: 28)",value:_.custom_field,handleChange:function(e){return S(e,"custom_field")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Phone Number",value:_.phone_number,handleChange:function(e){return S(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:w,value:_.company_entity_name,handleChange:function(e){return S(e,"company_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Address",value:_.address,handleChange:function(e){return S(e,"address")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Location(For example: -123.1231 -23.3452)",value:_.location,handleChange:function(e){return S(e,"location")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(F,{variant:"subtitle1"},"Approved")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:Number(_.approved),onChange:S,name:"approved"}),label:"Approved"}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/client")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return N()}},"Save")))))))));function k(){an.b.update(u,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),d(null)}function I(e){var n;if(!u||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:k};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:ka[g],progressClassName:t.progress,onClose:"error"===e&&function(){return d(null)},className:t.notification});"error"===e&&d(a)}}}),Pa=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var Ba={loading:!1,sales:[],error:null};var Ra=function(){return function(e){e({type:bt}),setTimeout(function(){fetch("".concat(zt,"getSalesClient"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:ht,sales:n})),console.log("Get SalesClient===>",t),t}).catch(function(t){e(function(e){return{type:yt,error:e}}(t))})},1e3)}};var Fa=Object(Fe.b)(function(e){return{sales:e.sales}},function(e){return Object(qe.b)({fetchSalesClient:Ra},e)})(function(e){Pa();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([])),m=Object(L.a)(l,2),u=m[0],d=m[1],f=Object(Fe.c)(function(e){return e.sales}),g=function(e){return Object(an.b)(e)};Object(a.useEffect)(function(){console.log(f),e.fetchSalesClient(),d(f.sales)},[]);var b=[{name:"sales_client_id",label:"ID",options:{filter:!0,sort:!0}},{name:"full_name",label:"User Name",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Client Name",options:{filter:!0,sort:!0}},{name:"company_id",label:"Company ID",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Company Name",options:{filter:!0,sort:!0}},{name:"sales_client_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){y(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],y=function(e,n){t.push("/app/sales/"+n+"/edit")},O={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=f.sales[e.dataIndex].sales_client_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:e})};fetch("".concat(zt,"deleteSalesClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}},v=function(e){for(var t=1;t<e.length-1;t++){var n=e[t],a={user_id:n[0],client_id:n[1]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat(zt,"addSalesClientWithCSV"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return g("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&g("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Sales Clients",button:["Add New"],data:u,category:"sales",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Sales Clients",data:f.sales,columns:b,options:O})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),v(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))}),Da=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Ma=Object(Fe.b)(function(e){return{user:e.user,client:e.client}},function(e){return Object(qe.b)({fetchUsers:Zn,fetchClient:ja},e)})(function(e){var t=Pa(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(Fe.c)(function(e){return e.user})),f=Object(Fe.c)(function(e){return e.client}),g=function(e){return Object(an.b)(e)},b=e.match.params.sales,y=Object(a.useState)({sales_client_id:"",client_name:"",user_name:"",client_id:"",user_id:"",clients:[]}),O=Object(L.a)(y,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchUsers(),_(b)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:e})};fetch("".concat(zt,"getSalesClientById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(function(){return Object(l.a)(Object(l.a)({},v),{},{client_name:n.client_entity_name,user_name:n.full_name,client_id:n.client_id.toString(),user_id:n.user_id.toString()})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){console.log("originall ====> ",e,f.client);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]},x=function(e){console.log("originall ====> ",e,p.user);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.user_id,value:null===e||void 0===e?void 0:e.full_name};t.push(n)}),t):[]}(p.user),T=function(e,t){"user_name"==t&&(null!=x.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{user_name:e,user_id:x.filter(function(t){return t.value==e})[0].key})),function(e){var t=p.user.filter(function(t){return t.full_name==e})[0].company_id.toString();console.log("======================>",t);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:t})};fetch("".concat(zt,"getClientByCompanyId"),n).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:r=C(n),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{client_name:"",clients:r})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})}(e))},w=x.map(function(e){return null===e||void 0===e?void 0:e.value});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Sales Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"User Name",items:w,value:v.user_name,handleChange:function(e){return T(e,"user_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Client Name",items:v.clients.map(function(e){return null===e||void 0===e?void 0:e.value}),value:v.client_name,handleChange:function(e){return function(e,t){"client_name"==t&&null!=v.clients.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{client_name:e,client_id:v.clients.filter(function(t){return t.value==e})[0].key}))}(e,"client_name")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/sales")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.user_name&&""!=v.user_name)if(null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:b,client_id:v.client_id,user_id:v.user_id})};console.log("===============> ",e.body),fetch("".concat(zt,"updateSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.sales_client_id){e.next=14;break}return g("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&N("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})}else g("Please enter client name.");else g("Please enter company user name.")}()}},"Save")))))))));function S(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function N(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:S};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Da[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Aa=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT],La={PaperProps:{style:{maxHeight:224,width:250}}};var Ua=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=Pa(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.company})),b=Object(a.useState)({client_name:"",user_name:"",client_id:"",user_id:"",company_id:"",clients:[],users:[],userIDList:[]}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchCompany()},[]);var _=r.a.useState([]),C=Object(L.a)(_,2),x=C[0],T=C[1],w=function(e){return Object(an.b)(e)},S=function(e){console.log("originall ====> ",e,g.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(g.company),N=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getClientByCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:r=k(n),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{clients:r})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})},k=function(e){var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]},I=function(e){var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.user_id,value:null===e||void 0===e?void 0:e.full_name};t.push(n)}),t):[]},B=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getUserById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:r=I(n),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{users:r})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})},R=function(e,t){["company_entity_name"].includes(t)&&(function(e){var t=g.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&(E(Object(l.a)(Object(l.a)({},v),{},{company_id:t[0].company_id.toString()})),B(t[0].company_id.toString()),N(t[0].company_id.toString()))}(e),E(function(n){var a;return Object(l.a)(Object(l.a)({},n),{},(a={},Object(y.a)(a,t,e),Object(y.a)(a,"client_name",""),a))}),T([]))},F=function(e){console.log("state.user===>",v.users);var t=v.users.filter(function(t){return t.value==e});if(null!=t[0])return t[0].key};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Sales Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/sales")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company",items:S,value:v.company_entity_name,handleChange:function(e){return R(e,"company_entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(hn.a,{className:t.formControl},r.a.createElement(zn.a,{id:"demo-mutiple-checkbox-label"},"Users"),r.a.createElement(Wn.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:x,onChange:function(e){T(e.target.value);for(var t=e.target.value,n=[],a=0,r=t.length;a<r;a+=1)n.push(F(t[a]));console.log("handleCompanyChange==>",n),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{userIDList:n})})},input:r.a.createElement(on.a,null),renderValue:function(e){return e.join(", ")},MenuProps:La},v.users.map(function(e){return r.a.createElement(mn.a,{key:e.value,value:e.value},r.a.createElement(Jn.a,{checked:x.indexOf(e.value)>-1}),r.a.createElement(ie.a,{primary:e.value}))})))),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Client Name",items:v.clients.map(function(e){return null===e||void 0===e?void 0:e.value}),value:v.client_name,handleChange:function(e){return function(e,t){"client_name"==t&&null!=v.clients.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{client_name:e,client_id:v.clients.filter(function(t){return t.value==e})[0].key}))}(e,"client_name")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(console.log("save data ==> ",v.userIDList,v.client_id),null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:v.client_id,user_id:v.userIDList})};fetch("".concat(zt,"addSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.sales_client_id){e.next=14;break}return w("This client is already exist."),e.abrupt("return");case 14:M("shipped"),E(function(){return{client_name:"",user_name:"",client_id:"",user_id:"",company_id:"",users:[]}});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})}else w("Please enter client name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(console.log("save data ==> ",v.userIDList,v.client_id),null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:v.client_id,user_id:v.userIDList})};fetch("".concat(zt,"addSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.sales_client_id){e.next=14;break}return w("This client is already exist."),e.abrupt("return");case 14:M("shipped"),E(function(){return{client_name:"",user_name:"",client_id:"",user_id:"",company_id:"",users:[]}}),n.push("/app/sales");case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})}else w("Please enter client name.")}()}},"Save & Back")))))))));function D(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function M(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:D};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Aa[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Ha=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},table:{minWidth:650},difference:{backgroundColor:e.palette.success.main,color:"red!important"},divider:{marginTop:20,marginBottom:e.spacing(1)},buttonContainer:{paddingTop:10,display:"flex",justifyContent:"flex-end"}}});var qa=function(){return function(e){e({type:mt}),setTimeout(function(){fetch("".concat(zt,"getSchedule"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:ut,schedule:n})),console.log("Get Schedule===>",t),t}).catch(function(t){e(function(e){return{type:dt,error:e}}(t))})},1e3)}},za=n(38),Wa=n.n(za);var Ja=Object(Fe.b)(function(e){return{schedule:e.schedule}},function(e){return Object(qe.b)({fetchSchedule:qa},e)})(function(e){Ha();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([])),m=Object(L.a)(l,2),u=m[0],d=m[1],f=Object(Fe.c)(function(e){return e.schedule}),g=function(e){return Object(an.b)(e)};Object(a.useEffect)(function(){console.log(f),e.fetchSchedule(),d(f.data)},[]),console.log("schedule data=====>",f);var b=[{name:"schedule_id",label:"ID",options:{filter:!0,sort:!0}},{name:"full_name",label:"User Name",options:{filter:!0,sort:!0}},{name:"company_id",label:"Company ID",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Company Name",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Client Name",options:{filter:!0,sort:!0}},{name:"schedule_datetime",label:"DateTime",options:{filter:!0,sort:!0}},{name:"predicted_time_spent",label:"Predicted Time Spent",options:{filter:!0,sort:!0}},{name:"notes",label:"Notes",options:{filter:!0,sort:!0}},{name:"upload_picture",label:"Upload",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return console.log(e),r.a.createElement("a",{href:"".concat(zt,"upload/").concat(e),target:"_blank"}," ",e," ")}}},{name:"check_in_datetime",label:"Check In",options:{filter:!0,sort:!0}},{name:"check_out_datetime",label:"Check out",options:{filter:!0,sort:!0}},{name:"reason",label:"Visiting Reason",options:{filter:!0,sort:!0}},{name:"isLate",label:"Late",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:e?"yes":"no"})}}},{name:"check_in_datetime",label:"Present/Absent",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:"0000-00-00 00:00:00"!=e?"yes":"no"})}}},{name:"signature",label:"Signature",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return console.log(e),r.a.createElement("a",{href:"".concat(zt,"signature/").concat(e),target:"_blank"}," ",e," ")}}}],y={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=f.schedule[e.dataIndex].schedule_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule_id:e})};fetch("".concat(zt,"deleteSchedule"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}},O=function(e){for(var t=function(t){setTimeout(function(){var n=e[t],a={user_id:n[0],client_id:n[1],schedule_datetime:Wa()(n[2]).format("YYYY-MM-DD hh:mm:ss"),predicted_time_spent:n[3],reason:n[4]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat(zt,"createNewSchedule"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if("0"!=t.schedule_id){e.next=14;break}return g("This timeframe is already exist."),e.abrupt("return");case 14:g("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})},500)},n=1;n<e.length-1;n++)t(n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Schedules",data:u,history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Schedules",data:f.schedule,columns:b,options:y})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),O(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))}),Ga=Object(_.a)(function(e){return{container:{paddingTop:20},version:{display:"flex",justifyContent:"center"}}});function Ya(e){var t=Ga();Object(R.a)();return r.a.createElement("div",{className:t.container},r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12},r.a.createElement(F,{size:12,weight:"light"},"Powered By Asile")),r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12,className:t.version},r.a.createElement(F,{size:12,weight:"light"},"Version 0.0.1"))))}var Va=Object(h.h)(function(e){var t,n=C(),a=Object(E.a)("(min-width:1600px)"),o=Object(E.a)("(min-width:1800px)"),i=W();return r.a.createElement("div",{className:n.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null),r.a.createElement("div",{className:v()(n.content,Object(y.a)({},n.contentShift,i.isSidebarOpened))},r.a.createElement(Y,{history:e.history}),r.a.createElement("div",{className:v()(n.mainContainer,(t={},Object(y.a)(t,n.padding1600,a),Object(y.a)(t,n.padding1800,o),t))},r.a.createElement(j.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/app/usermanage",component:rn}),r.a.createElement(h.b,{exact:!0,path:"/app",render:function(){return r.a.createElement(h.a,{to:"/app/usermanage/admin"})}}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/admin",component:rn}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/admin/:admin/edit",component:Vn}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/admin/add",component:Kn}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/user",component:ea}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/user/:user/edit",component:na}),r.a.createElement(h.b,{exact:!0,path:"/app/usermanage/user/add",component:ra}),r.a.createElement(h.b,{exact:!0,path:"/app/company",component:ia}),r.a.createElement(h.b,{exact:!0,path:"/app/company/add",component:ya}),r.a.createElement(h.b,{exact:!0,path:"/app/company/:company/edit",component:va}),r.a.createElement(h.b,{exact:!0,path:"/app/client",component:xa}),r.a.createElement(h.b,{exact:!0,path:"/app/client/add",component:Na}),r.a.createElement(h.b,{exact:!0,path:"/app/client/:client/edit",component:Ia}),r.a.createElement(h.b,{exact:!0,path:"/app/sales",component:Fa}),r.a.createElement(h.b,{exact:!0,path:"/app/sales/:sales/edit",component:Ma}),r.a.createElement(h.b,{exact:!0,path:"/app/sales/add",component:Ua}),r.a.createElement(h.b,{exact:!0,path:"/app/schedule",component:Ja}),r.a.createElement(h.b,{component:he}))),r.a.createElement(Ya,null)))))}),$a=n(871),Qa=n(454),Ka=n.n(Qa),Xa=n(175),Za=n.n(Xa),er=n(332),tr=n.n(er),nr=n(331),ar=n.n(nr),rr=n(453),or=n.n(rr),ir=n(330),cr=n.n(ir),sr=n(451),lr=n.n(sr),mr=n(452),ur=n.n(mr),dr=0!=localStorage.getItem("allow_so")?[{id:0,label:"User",link:"/app/userview",icon:r.a.createElement(Q.a,{fontSize:"small"})},{id:1,label:"CRM",link:"/app/clientview",icon:r.a.createElement(X.a,{fontSize:"small"}),children:[{label:"Clients",link:"/app/clientview",icon:r.a.createElement(Za.a,{fontSize:"small"})},{label:"Sales Client",link:"/app/salesview",icon:r.a.createElement(Z.a,{fontSize:"small"})}]},{id:2,label:"Inventory",link:"/app/salesorder/group",icon:r.a.createElement(lr.a,{fontSize:"small"}),children:[{label:"Category",link:"/app/salesorder/group",icon:r.a.createElement(cr.a,{fontSize:"small"})},{label:"Items Database",link:"/app/salesorder/item",icon:r.a.createElement(ar.a,{fontSize:"small"})}]},{id:7,label:"Promotions",link:"/app/salesorder/promotion",icon:r.a.createElement(ur.a,{fontSize:"small"})},{id:3,label:"Sales Target",link:"/app/salesorder/itemcategory",icon:r.a.createElement(or.a,{fontSize:"small"}),children:[{label:"Item Categories",link:"/app/salesorder/itemcategory",icon:r.a.createElement(cr.a,{fontSize:"small"})},{label:"Company Users",link:"/app/salesorder/companyusers",icon:r.a.createElement(ar.a,{fontSize:"small"})}]},{id:4,label:"Schedule",link:"/app/scheduleview",icon:r.a.createElement(ee.a,{fontSize:"small"})},{id:6,label:"Sales Order",link:"/app/salesorder/review",icon:r.a.createElement(Ka.a,{fontSize:"small"}),children:[{label:"Review Orders",link:"/app/salesorder/review",icon:r.a.createElement(Za.a,{fontSize:"small"})},{label:"Orders History",link:"/app/salesorder/history",icon:r.a.createElement(tr.a,{fontSize:"small"})}]},{id:5,label:"Report",link:"/app/schedule_report",icon:r.a.createElement($a.a,{fontSize:"small"}),children:[{label:"Schedules Report",link:"/app/schedule_report",icon:r.a.createElement(Za.a,{fontSize:"small"})},{label:"Sales Order Report",link:"/app/salesorder_report",icon:r.a.createElement(tr.a,{fontSize:"small"})}]}]:[{id:0,label:"User",link:"/app/userview",icon:r.a.createElement(Q.a,{fontSize:"small"})},{id:1,label:"CRM",link:"/app/clientview",icon:r.a.createElement(X.a,{fontSize:"small"}),children:[{label:"Clients",link:"/app/clientview",icon:r.a.createElement(Za.a,{fontSize:"small"})},{label:"Sales Client",link:"/app/salesview",icon:r.a.createElement(Z.a,{fontSize:"small"})}]},{id:4,label:"Schedule",link:"/app/scheduleview",icon:r.a.createElement(ee.a,{fontSize:"small"})},{id:5,label:"Report",link:"/app/schedule_report",icon:r.a.createElement($a.a,{fontSize:"small"}),children:[{label:"Schedules Report",link:"/app/schedule_report",icon:r.a.createElement(Za.a,{fontSize:"small"})}]}];var pr=Object(h.h)(function(e){var t,n,o=e.location,i=ne(),c=Object(R.a)(),s=W().isSidebarOpened,l=J(),m=(W(),Object(a.useState)(!0)),u=Object(L.a)(m,2),d=u[0],p=u[1];return Object(a.useEffect)(function(){return window.addEventListener("resize",f),f(),function(){window.removeEventListener("resize",f)}}),r.a.createElement(V.a,{variant:d?"permanent":"temporary",className:v()(i.drawer,(t={},Object(y.a)(t,i.drawerOpen,s),Object(y.a)(t,i.drawerClose,!s),t)),classes:{paper:v()(i.drawerPaper,(n={},Object(y.a)(n,i.drawerOpen,s),Object(y.a)(n,i.drawerClose,!s),n))},open:s},r.a.createElement("div",{className:i.mobileBackButton},r.a.createElement(T.a,{onClick:function(){return G(l)}},r.a.createElement(te.a,{style:{color:"white"},classes:{root:v()(i.headerIcon,i.headerIconCollapse)}}))),r.a.createElement($.a,{className:i.sidebarList},dr.map(function(e){return r.a.createElement(de,Object.assign({key:e.id,location:o,isSidebarOpened:s},e))})),r.a.createElement("div",{style:{justifyContent:"center",alignSelf:"center",marginTop:20}},r.a.createElement(T.a,{style:{color:"white",fontSize:14,fontWeight:"bold"},onClick:function(){localStorage.clear(),window.location.reload()}},r.a.createElement(te.a,{style:{marginRight:5}}),"Log Out")));function f(){var e=window.innerWidth<c.breakpoints.values.md;e&&d?p(!1):e||d||p(!0)}}),fr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}},notificationItem:{marginTop:e.spacing(2)},notificationCloseButton:{position:"absolute",right:e.spacing(2)},toastsContainer:{width:400,marginTop:e.spacing(6),right:0},progress:{visibility:"hidden"},notification:{display:"flex",alignItems:"center",background:"transparent",boxShadow:"none",overflow:"visible"},notificationComponent:{paddingRight:e.spacing(4)}}});var gr=function(){return console.log("fetching Users ..."),function(e){e({type:Xe});var t={company_id:localStorage.getItem("company_id")};setTimeout(function(){fetch("".concat(zt,"getUserById"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;return e({type:Ze,userview:t}),t}).catch(function(t){e(function(e){return{type:et,error:e}}(t))})},1e3)}};var br=Object(Fe.b)(function(e){return{userview:e.userview}},function(e){return Object(qe.b)({fetchUserView:gr},e)})(function(e){fr(),Object(h.g)();var t=Object(a.useState)(null),n=Object(L.a)(t,2),o=(n[0],n[1],Object(a.useState)(0)),i=Object(L.a)(o,2),s=(i[0],i[1],Object(a.useState)([])),l=Object(L.a)(s,2),m=l[0],u=l[1],d=Object(Fe.c)(function(e){return e.userview}),f=Object(a.useState)(!1),g=Object(L.a)(f,2),b=g[0];g[1],tn(),Object(a.useEffect)(function(){e.fetchUserView(),u(d.userview)},[]);var y={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,selectableRows:!1,onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)},onRowsDelete:function(e){}};return d.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Users",data:m}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem",height:"50px"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Users",data:d.userview,columns:[{name:"user_id",label:"ID",options:{filter:!0,sort:!0}},{name:"full_name",label:"Full Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!0,sort:!0}}],options:y})))),r.a.createElement(He,{open:b}))}),hr=n(387),yr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}},notificationItem:{marginTop:e.spacing(2)},notificationCloseButton:{position:"absolute",right:e.spacing(2)},toastsContainer:{width:400,marginTop:e.spacing(6),right:0},progress:{visibility:"hidden"},notification:{display:"flex",alignItems:"center",background:"transparent",boxShadow:"none",overflow:"visible"},notificationComponent:{paddingRight:e.spacing(4)}}});var Or=function(e){return function(t){t({type:pt});var n=Object(l.a)({company_id:localStorage.getItem("company_id"),limit:10,offset:0},e);setTimeout(function(){fetch("".concat(zt,"getScheduleWithFilter"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;var n;return t((n=e,console.log("action===>",n),{type:ft,scheduleview:n})),console.log("Get Schedule===>",e),e}).catch(function(e){t(function(e){return{type:gt,error:e}}(e))})},1e3)}},vr=n(170),Er=n(171),_r=n.n(Er);var Cr=Object(Fe.b)(function(e){return{scheduleview:e.scheduleview}},function(e){return Object(qe.b)({fetchScheduleView:Or,fetchUserView:gr},e)})(function(e){yr();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),m=(s[0],s[1],Object(a.useState)([])),u=Object(L.a)(m,2),d=u[0],f=u[1],g=Object(Fe.c)(function(e){return e.scheduleview.scheduleview}),b=Object(Fe.c)(function(e){return e.userview.userview}),y=Object(Fe.c)(function(e){return e.scheduleview.loading}),O=Object(a.useState)({limit:10,offset:0,keyword:"",user_id:null,predicted_time_spent:null,reason:null,isLate:null,present:null}),v=Object(L.a)(O,2),E=v[0],_=v[1],C=function(e){return Object(an.b)(e)};Object(a.useEffect)(function(){e.fetchUserView()},[]),Object(a.useEffect)(function(){e.fetchScheduleView(Object(l.a)({},E)),f(g.data)},[E]);var x=[{name:"schedule_id",label:"ID",options:{filter:!1,sort:!0}},{name:"full_name",label:"Full Name",options:{filter:!0,sort:!0,filterOptions:{names:b.map(function(e){return e.user_id}),renderValue:function(e){return b.find(function(t){return t.user_id===e}).full_name}},customFilterListOptions:{render:function(e){return"Full Name: ".concat(b.find(function(t){return t.user_id===e}).full_name)}}}},{name:"client_entity_name",label:"Client Name",options:{filter:!1,sort:!0}},{name:"schedule_datetime",label:"DateTime",options:{filter:!1,sort:!0}},{name:"predicted_time_spent",label:"Predicted Time Spent",options:{filter:!0,sort:!0,filterType:"custom"}},{name:"notes",label:"Notes",options:{filter:!1,sort:!0}},{name:"upload_picture",label:"Upload",options:{filter:!1,sort:!0,customBodyRender:function(e,t,n){return console.log(e),r.a.createElement("a",{href:"".concat(zt,"upload/").concat(e),target:"_blank"}," ",e," ")}}},{name:"check_in_datetime",label:"Check In",options:{filter:!1,sort:!0}},{name:"check_out_datetime",label:"Check Out",options:{filter:!1,sort:!0}},{name:"reason",label:"Visiting Reason",options:{filter:!1,sort:!0}},{name:"isLate",label:"Late",options:{filter:!0,sort:!0,filterOptions:{names:["yes","no"]},customFilterListOptions:{render:function(e){return"Late: ".concat(e)}},customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:1==e?"yes":"no"})}}},{name:"check_in_datetime",label:"Present/Absent",options:{filter:!0,sort:!0,filterOptions:{names:["yes","no"]},customFilterListOptions:{render:function(e){return"Present: ".concat(e)}},customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:"0000-00-00 00:00:00"!=e?"yes":"no"})}}},{name:"signature",label:"Signature",options:{filter:!1,sort:!0,customBodyRender:function(e,t,n){return console.log(e),r.a.createElement("a",{href:"".concat(zt,"signature/").concat(e),target:"_blank"}," ",e," ")}}}],T={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,selectableRows:!1,serverSide:!0,count:g.total,customSearchRender:Object(Ee.debounceSearchRender)(500),onTableChange:function(e,t){switch(console.log(e,t,"table change"),e){case"changePage":_(Object(l.a)(Object(l.a)({},E),{},{offset:t.page*E.limit}));break;case"changeRowsPerPage":_(Object(l.a)(Object(l.a)({},E),{},{limit:t.rowsPerPage}));break;default:console.log("action not handled.")}},onFilterChange:function(e,t,n){"full_name"===e?_(Object(l.a)(Object(l.a)({},E),{},{offset:0,user_id:t[1][0]})):"isLate"===e?_(Object(l.a)(Object(l.a)({},E),{},{offset:0,isLate:"yes"===t[10][0]||"no"!==t[10][0]&&null})):"check_in_datetime"===e&&_(Object(l.a)(Object(l.a)({},E),{},{offset:0,present:"yes"===t[11][0]||"no"!==t[11][0]&&null}))},onFilterConfirm:function(e,t,n){console.log(e,t,n,"confirm filterrrrr")},onSearchChange:function(e){_(Object(l.a)(Object(l.a)({},E),{},{offset:0,keyword:e}))},searchText:E.keyword,onDownload:function(e,t,n,a){var r={company_id:localStorage.getItem("company_id")};return fetch("".concat(zt,"getScheduleWithFilter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){console.log(n);var t=[];n.map(function(e){"Action"!==e.label&&t.push({label:e.label,value:e.name})});var a={fields:t};try{var r=new vr.Parser(a).parse(e.data),o=new Blob([r],{type:"text/csv;charset=utf-8;"});_r.a.saveAs(o,"schedule_data.csv")}catch(i){console.error(i)}}),!1}},w=function(e){for(var t=function(t){setTimeout(function(){var n=e[t],a={user_id:n[0],client_id:n[1],schedule_datetime:Wa()(n[2]).format("YYYY-MM-DD hh:mm:ss"),predicted_time_spent:n[3],reason:n[4]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat(zt,"createNewSchedule"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if("0"!=t.schedule_id){e.next=14;break}return C("This timeframe is already exist."),e.abrupt("return");case 14:C("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})},500)},n=1;n<e.length-1;n++)t(n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Schedules",data:d,history:t}),y?r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",zIndex:10}},r.a.createElement(hr.a,null)):null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Schedules",data:g.data,columns:x,options:T})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),w(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))}),jr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},table:{minWidth:650},difference:{backgroundColor:e.palette.success.main,color:"red!important"},divider:{marginTop:20,marginBottom:e.spacing(1)},buttonContainer:{paddingTop:10,display:"flex",justifyContent:"flex-end"}}});function xr(){return{type:rt}}function Tr(e){return{type:ot,clientview:e}}function wr(e){return{type:it,error:e}}var Sr={loading:!1,clientview:[],error:null};var Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(xr());var n=Object(l.a)({company_id:localStorage.getItem("company_id")},e);setTimeout(function(){fetch("".concat(zt,"getClientWithFilter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return t(Tr(e)),console.log("Get Client===>",e),e}).catch(function(e){t(wr(e))})},1e3)}};var kr=function(e){return console.log("fetching Users ..."),function(e){e({type:Ge});var t={company_id:localStorage.getItem("company_id")};setTimeout(function(){fetch("".concat(zt,"getAllUserById"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("User Action +++>",n),{type:Ye,user:n})),console.log("Get User===>",t),t}).catch(function(t){e(function(e){return{type:Ve,error:e}}(t))})},1e3)}};var Ir=Object(Fe.b)(function(e){return{clientview:e.clientview,user:e.user}},function(e){return Object(qe.b)({fetchClientView:Nr,fetchAllUser:kr},e)})(function(e){var t=Object(h.g)(),n=Object(a.useState)([]),o=Object(L.a)(n,2),i=o[0],s=o[1],m=Object(a.useState)({limit:10,offset:0,created_by:null,approved:null,keyword:""}),u=Object(L.a)(m,2),d=u[0],f=u[1],g=Object(Fe.c)(function(e){return e.clientview.clientview}),b=Object(Fe.c)(function(e){return e.allUser.user}),y=Object(Fe.c)(function(e){return e.clientview.loading});Object(a.useEffect)(function(){e.fetchAllUser()},[]),Object(a.useEffect)(function(){e.fetchClientView(Object(l.a)({},d)),s(g.data)},[d]);var O=function(e){return Object(an.b)(e)},v=[{name:"client_id",label:"ID",options:{filter:!1,sort:!0}},{name:"client_entity_name",label:"Entity Name",options:{filter:!1,sort:!0}},{name:"custom_field",label:"Custom Field",options:{filter:!1,sort:!0}},{name:"address",label:"Address",options:{filter:!1,sort:!0}},{name:"approved",label:"Approved",options:{filter:!0,sort:!0,filterOptions:{names:["yes","no"]},customFilterListOptions:{render:function(e){return"Approved: ".concat(e)}},customBodyRender:function(e,t,n){return r.a.createElement(Re,{status:1==e?"yes":"no"})}}},{name:"full_name",label:"Created by",options:{filter:!0,sort:!0,filterOptions:{names:b.map(function(e){return e.user_id}),renderValue:function(e){return b.find(function(t){return t.user_id===e}).full_name}},customFilterListOptions:{render:function(e){return"Created by: ".concat(b.find(function(t){return t.user_id===e}).full_name)}}}},{name:"location",label:"Location",options:{filter:!1,sort:!0}},{name:"phone_number",label:"Phone Number",options:{filter:!1,sort:!0}},{name:"client_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){E(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],E=function(e,n){t.push("/app/clientview/"+n+"/edit")},_={filterType:"dropdown",print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,serverSide:!0,count:g.total,pagination:!0,customSearchRender:Object(Ee.debounceSearchRender)(500),onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=g.data[e.dataIndex].client_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})};fetch("".concat(zt,"deleteClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){switch(console.log(e,t,"table change"),e){case"changePage":f(Object(l.a)(Object(l.a)({},d),{},{offset:t.page*d.limit}));break;case"changeRowsPerPage":f(Object(l.a)(Object(l.a)({},d),{},{limit:t.rowsPerPage}));break;default:console.log("action not handled.")}},onFilterChange:function(e,t,n){"approved"===e?f(Object(l.a)(Object(l.a)({},d),{},{offset:0,approved:"yes"===t[4][0]||"no"!==t[4][0]&&null})):"full_name"===e&&f(Object(l.a)(Object(l.a)({},d),{},{offset:0,created_by:t[5][0]}))},onSearchChange:function(e){f(Object(l.a)(Object(l.a)({},d),{},{offset:0,keyword:e}))},searchText:d.keyword,onDownload:function(e,t,n,a){var r={company_id:localStorage.getItem("company_id")};return fetch("".concat(zt,"getClientWithFilter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){console.log(n);var t=[];n.map(function(e){"Action"!==e.label&&t.push({label:e.label,value:e.name})});var a={fields:t};try{var r=new vr.Parser(a).parse(e.data),o=new Blob([r],{type:"text/csv;charset=utf-8;"});_r.a.saveAs(o,"client_data.csv")}catch(i){console.error(i)}}),!1}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Clients",button:["Add New"],data:i,category:"clientview",history:t}),y?r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",zIndex:10}},r.a.createElement(hr.a,null)):null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Clients",data:g.data,columns:v,options:_})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))});wa.a.setApiKey(Wt);var Pr=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Br=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=jr(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1]),b=Object(Fe.c)(function(e){return e.company}),O=function(e){return Object(an.b)(e)},v=Object(a.useState)({id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",companyIDList:localStorage.getItem("company_id").split(", ")}),E=Object(L.a)(v,2),_=E[0],C=E[1];Object(a.useEffect)(function(){e.fetchCompany(),console.log(b),g(b.company)},[]);var x=function(e){console.log("originall ====> ",e,b.data);var t=[];return Boolean(e)&&e.length?(e.map(function(e){_.companyIDList.includes(null===e||void 0===e?void 0:e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(b.company),T=function(e,t){if("address"==t){var n=e.target,a=(n.name,n.value);console.log("$$$$$$$$$",a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{address:a})}),wa.a.fromAddress(a).then(function(e){var t=e.results[0].geometry.location,n=t.lat,a=t.lng;console.log(n,a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:n+" "+a})})},function(e){console.error(e),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:""})})})}else if(["company_entity_name"].includes(t))!function(e){var t=b.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&C(Object(l.a)(Object(l.a)({},_),{},{company_id:t[0].company_id.toString()}))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var r=e.target,o=(r.name,r.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,o))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/clientview")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:_.entity_name,handleChange:function(e){return T(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Custom Field",value:_.custom_field,handleChange:function(e){return T(e,"custom_field")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Phone Number",value:_.phone_number,handleChange:function(e){return T(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:x,value:_.company_entity_name,handleChange:function(e){return T(e,"company_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Address",value:_.address,handleChange:function(e){return T(e,"address")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{title:"Location(lat lng)",value:_.location,disabled:!0,handleChange:function(e){return T(e,"location")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=_.entity_name&&""!=_.entity_name)if(null!=_.custom_field&&""!=_.custom_field)if(null!=_.address&&""!=_.address)if(null!=_.location&&""!=_.location)if(0==_.phone_number.length||_.phone_number.length<7)O("Please enter valid phone number");else if(_.company_id.length<1)O("Please enter company id.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id,approved:1,created_by:localStorage.getItem("user_id")})};fetch("".concat(zt,"addClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return O("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&(S("shipped"),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:""})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter client location.");else O("Please enter client address.");else O("Please enter client Custom Field.");else O("Please enter client entity name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=_.entity_name&&""!=_.entity_name)if(null!=_.custom_field&&""!=_.custom_field)if(null!=_.address&&""!=_.address)if(null!=_.location&&""!=_.location)if(0==_.phone_number.length||_.phone_number.length<7)O("Please enter valid phone number");else if(_.company_id.length<1)O("Please enter company id.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id,approved:1,created_by:localStorage.getItem("user_id")})};fetch("".concat(zt,"addClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.client_id){e.next=14;break}return O("This client is already exist."),e.abrupt("return");case 14:0!=a.id&&(S("shipped"),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:""})}),n.push("/app/clientview"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O("Something went wrong!\n"+e),console.error("There was an error!",e)})}else O("Please enter client location.");else O("Please enter client address.");else O("Please enter client Custom Field.");else O("Please enter client entity name.")}()}},"Save & Back")))))))));function w(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function S(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:w};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Pr[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}});wa.a.setApiKey(Wt);var Rr=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Fr=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=jr(),n=Object(h.g)(),o=Object(a.useState)([]),i=Object(L.a)(o,2),c=(i[0],i[1]),s=Object(a.useState)(null),m=Object(L.a)(s,2),u=m[0],d=m[1],p=Object(a.useState)(2),f=Object(L.a)(p,2),g=f[0],b=(f[1],Object(Fe.c)(function(e){return e.company})),O=function(e){return Object(an.b)(e)},v=Object(a.useState)({id:"",entity_name:"",custom_field:"",address:"",location:"",phone_number:"",company_id:"",company_entity_name:"",companyIDList:localStorage.getItem("company_id").split(", "),approved:"0",created_by:""}),E=Object(L.a)(v,2),_=E[0],C=E[1],x=e.match.params.clientview;Object(a.useEffect)(function(){e.fetchCompany(),c(b.company),T(x)},[]);var T=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})};fetch("".concat(zt,"getClientProfileById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:C(function(){return Object(l.a)(Object(l.a)({},_),{},{entity_name:n.client_entity_name,custom_field:n.custom_field,address:n.address,company_id:n.company_id.toString(),company_entity_name:n.company_entity_name,phone_number:n.phone_number,location:n.location,approved:n.approved,created_by:n.created_by})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},w=function(e){console.log("originall ====> ",e,b.company);var t=[];return Boolean(e)&&e.length?(e.map(function(e){_.companyIDList.includes(null===e||void 0===e?void 0:e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(b.company),S=function(e,t){if("address"==t){var n=e.target,a=(n.name,n.value);console.log("$$$$$$$$$",a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{address:a})}),wa.a.fromAddress(a).then(function(e){var t=e.results[0].geometry.location,n=t.lat,a=t.lng;console.log(n,a),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:n+" "+a})})},function(e){console.error(e),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{location:""})})})}else if(["company_entity_name"].includes(t))!function(e){var t=b.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&C(Object(l.a)(Object(l.a)({},_),{},{company_id:t[0].company_id.toString()}))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("approved"==e.target.name)console.log("approved====>",e.target.checked),C(Object(l.a)(Object(l.a)({},_),{},Object(y.a)({},e.target.name,e.target.checked)));else{var r=e.target,o=(r.name,r.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,o))})}},N=function(){null!=_.entity_name&&""!=_.entity_name?null!=_.custom_field&&""!=_.custom_field?null!=_.address&&""!=_.address?null!=_.location&&""!=_.location?_.phone_number.length<7?O("Please enter valid phone number"):_.company_id.length<1?O("Please enter company id."):function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e,client_entity_name:_.entity_name,custom_field:_.custom_field,address:_.address,phone_number:_.phone_number,location:_.location,company_id:_.company_id.toString(),approved:_.approved,created_by:_.created_by,user_id:_.created_by})};console.log("------------------------",t.body),fetch("".concat(zt,"updateClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:B("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){B("error"),console.error("There was an error!",e)})}(x):O("Please enter company location."):O("Please enter company address."):O("Please enter company custom field."):O("Please enter company entity name.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Entity Name",value:_.entity_name,handleChange:function(e){return S(e,"entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Custom Field",value:_.custom_field,handleChange:function(e){return S(e,"custom_field")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Phone Number",value:_.phone_number,handleChange:function(e){return S(e,"phone_number")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:w,value:_.company_entity_name,handleChange:function(e){return S(e,"company_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Address",value:_.address,handleChange:function(e){return S(e,"address")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Location(lat lng)",value:_.location,handleChange:function(e){return S(e,"location")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle1"},"Approved")),r.a.createElement(cn.a,{control:r.a.createElement(sn.a,{checked:Number(_.approved),onChange:S,name:"approved"}),label:"Approved"}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/clientview")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return N()}},"Save")))))))));function k(){an.b.update(u,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),d(null)}function B(e){var n;if(!u||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:k};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Rr[g],progressClassName:t.progress,onClose:"error"===e&&function(){return d(null)},className:t.notification});"error"===e&&d(a)}}}),Dr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var Mr=function(e){return function(t){t({type:Ot});var n=Object(l.a)({company_id:localStorage.getItem("company_id"),limit:10,offset:0},e);setTimeout(function(){fetch("".concat(zt,"getSalesClientWithFilter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;var n;return t((n=e,console.log("action===>",n),{type:vt,salesview:n})),console.log("Get SalesClientView===>",e),e}).catch(function(e){t(function(e){return{type:Et,error:e}}(e))})},1e3)}};var Ar=Object(Fe.b)(function(e){return{sales:e.sales}},function(e){return Object(qe.b)({fetchSalesClientView:Mr,fetchUserView:gr},e)})(function(e){Dr();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),m=(s[0],s[1],Object(a.useState)([])),u=Object(L.a)(m,2),d=u[0],f=u[1],g=Object(Fe.c)(function(e){return e.salesview.salesview}),b=Object(Fe.c)(function(e){return e.userview.userview}),y=Object(Fe.c)(function(e){return e.salesview.loading}),O=Object(a.useState)({limit:10,offset:0,keyword:"",client_id:null,user_id:null}),v=Object(L.a)(O,2),E=v[0],_=v[1],C=function(e){return Object(an.b)(e)};Object(a.useEffect)(function(){e.fetchUserView()},[]),Object(a.useEffect)(function(){e.fetchSalesClientView(Object(l.a)({},E)),f(g.data)},[E]);var x=[{name:"sales_client_id",label:"ID",options:{filter:!1,sort:!0}},{name:"full_name",label:"User Name",options:{filter:!0,sort:!0,filterOptions:{names:b.map(function(e){return e.user_id}),renderValue:function(e){return b.find(function(t){return t.user_id===e}).full_name}},customFilterListOptions:{render:function(e){return"Full Name: ".concat(b.find(function(t){return t.user_id===e}).full_name)}}}},{name:"client_entity_name",label:"Client Name",options:{filter:!1,sort:!0,filterType:"textField"}},{name:"sales_client_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){w(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],w=function(e,n){t.push("/app/salesview/"+n+"/edit")},S={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,serverSide:!0,count:g.total,customSearchRender:Object(Ee.debounceSearchRender)(500),onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=g.data[e.dataIndex].sales_client_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:e})};fetch("".concat(zt,"deleteSalesClient"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){switch(console.log(e,t,"table change"),e){case"changePage":_(Object(l.a)(Object(l.a)({},E),{},{offset:t.page*E.limit}));break;case"changeRowsPerPage":_(Object(l.a)(Object(l.a)({},E),{},{limit:t.rowsPerPage}));break;default:console.log("action not handled.")}},onFilterChange:function(e,t,n){"full_name"===e&&_(Object(l.a)(Object(l.a)({},E),{},{offset:0,user_id:t[1][0]}))},onSearchChange:function(e){_(Object(l.a)(Object(l.a)({},E),{},{offset:0,keyword:e}))},searchText:E.keyword,onDownload:function(e,t,n,a){var r={company_id:localStorage.getItem("company_id")};return fetch("".concat(zt,"getSalesClientWithFilter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){var t=[];n.map(function(e){"Action"!==e.label&&t.push({label:e.label,value:e.name})}),console.log(t,"field");var a={fields:t};try{var r=new vr.Parser(a).parse(e.data),o=new Blob([r],{type:"text/csv;charset=utf-8;"});_r.a.saveAs(o,"sales_client_data.csv")}catch(i){console.error(i)}}),!1}},N=function(e){for(var t=1;t<e.length-1;t++){var n=e[t],a={user_id:n[0],client_id:n[1]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat(zt,"addSalesClientWithCSV"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return C("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&C("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Sales Clients",button:["Add New"],data:d,category:"salesview",history:t}),y?r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",zIndex:10}},r.a.createElement(hr.a,null)):null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Sales Clients",data:g.data,columns:x,options:S})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),N(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))});var Lr=function(){return function(e){e(xr());var t={company_id:localStorage.getItem("company_id")};setTimeout(function(){fetch("".concat(zt,"getClientByCompanyId"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;return e(Tr(t)),console.log("Get Client===>",t),t}).catch(function(t){e(wr(t))})},1e3)}},Ur=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Hr=Object(Fe.b)(function(e){return{userview:e.userview,clientview:e.clientview}},function(e){return Object(qe.b)({fetchUserView:gr,fetchClientView:Lr},e)})(function(e){var t=Dr(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(Fe.c)(function(e){return e.userview})),f=Object(Fe.c)(function(e){return e.clientview}),g=function(e){return Object(an.b)(e)},b=e.match.params.salesview,y=Object(a.useState)({sales_client_id:"",client_name:"",user_name:"",client_id:"",user_id:""}),O=Object(L.a)(y,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchClientView(),e.fetchUserView(),_(b)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:e})};fetch("".concat(zt,"getSalesClientById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(function(){return Object(l.a)(Object(l.a)({},v),{},{client_name:n.client_entity_name,user_name:n.full_name,client_id:n.client_id.toString(),user_id:n.user_id.toString()})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){console.log("originall ====> ",e,f.clientview);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]}(f.clientview);console.log("Client Data =====> ",C.map(function(e){return null===e||void 0===e?void 0:e.value}));var x=function(e){console.log("originall ====> ",e,p.userview);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.user_id,value:null===e||void 0===e?void 0:e.full_name};t.push(n)}),t):[]}(p.userview),T=x.map(function(e){return null===e||void 0===e?void 0:e.value}),w=C.map(function(e){return null===e||void 0===e?void 0:e.value});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Sales Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"User Name",items:T,value:v.user_name,handleChange:function(e){return function(e,t){"user_name"==t&&null!=x.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{user_name:e,user_id:x.filter(function(t){return t.value==e})[0].key}))}(e,"user_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Client Name",items:w,value:v.client_name,handleChange:function(e){return function(e,t){"client_name"==t&&null!=C.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{client_name:e,client_id:C.filter(function(t){return t.value==e})[0].key}))}(e,"client_name")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesview")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.user_name&&""!=v.user_name)if(null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sales_client_id:b,client_id:v.client_id,user_id:v.user_id})};console.log("===============> ",e.body),fetch("".concat(zt,"updateSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.sales_client_id){e.next=14;break}return g("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&N("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){g("Something went wrong!\n"+e),console.error("There was an error!",e)})}else g("Please enter client name.");else g("Please enter company user name.")}()}},"Save")))))))));function S(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function N(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:S};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Ur[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),qr=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT],zr={PaperProps:{style:{maxHeight:224,width:250}}};var Wr=Object(Fe.b)(function(e){return{userview:e.userview,clientview:e.clientview}},function(e){return Object(qe.b)({fetchUserView:gr,fetchClientView:Lr},e)})(function(e){var t=Dr(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.userview})),b=Object(Fe.c)(function(e){return e.clientview}),y=Object(a.useState)({client_name:"",user_name:"",client_id:"",user_id:"",userIDList:[]}),O=Object(L.a)(y,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchClientView(),e.fetchUserView()},[]);var _=r.a.useState([]),C=Object(L.a)(_,2),x=C[0],T=C[1],w=function(e){return Object(an.b)(e)},S=function(e){console.log("originall ====> ",e,b.clientview);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]}(b.clientview);console.log("Client Data =====> ",S.map(function(e){return null===e||void 0===e?void 0:e.value}));var N=function(e){console.log("originall ====> ",e,g.userview);var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.user_id,value:null===e||void 0===e?void 0:e.full_name};t.push(n)}),t):[]}(g.userview),k=function(e){console.log("state.user===>",N);var t=g.userview.filter(function(t){return t.full_name==e});if(null!=t[0])return t[0].user_id},I=S.map(function(e){return null===e||void 0===e?void 0:e.value});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Sales Client"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesview")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Client Name",items:I,value:v.client_name,handleChange:function(e){return function(e,t){"client_name"==t&&null!=S.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{client_name:e,client_id:S.filter(function(t){return t.value==e})[0].key}))}(e,"client_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(hn.a,{className:t.formControl},r.a.createElement(zn.a,{id:"demo-mutiple-checkbox-label"},"Users"),r.a.createElement(Wn.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:x,onChange:function(e){T(e.target.value);for(var t=e.target.value,n=[],a=0,r=t.length;a<r;a+=1)n.push(k(t[a]));E(function(e){return Object(l.a)(Object(l.a)({},e),{},{userIDList:n})})},input:r.a.createElement(on.a,null),renderValue:function(e){return e.join(", ")},MenuProps:zr},N.map(function(e){return r.a.createElement(mn.a,{key:e.value,value:e.value},r.a.createElement(Jn.a,{checked:x.indexOf(e.value)>-1}),r.a.createElement(ie.a,{primary:e.value}))}))))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:v.client_id,user_id:v.userIDList})};fetch("".concat(zt,"addSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.sales_client_id){e.next=14;break}return w("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&(R("shipped"),E(function(){return{client_name:"",user_name:"",client_id:"",user_id:""}}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})}else w("Please enter client name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.client_name&&""!=v.client_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:v.client_id,user_id:v.userIDList})};fetch("".concat(zt,"addSalesClient"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(null==a.sales_client_id){e.next=14;break}return w("This client is already exist."),e.abrupt("return");case 14:0!=a.id&&(R("shipped"),E(function(){return{client_name:"",user_name:"",client_id:"",user_id:""}}),n.push("/app/salesview"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})}else w("Please enter client name.")}()}},"Save & Back")))))))));function B(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function R(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:B};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:qr[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Jr=n(455),Gr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}},notificationItem:{marginTop:e.spacing(2)},notificationCloseButton:{position:"absolute",right:e.spacing(2)},toastsContainer:{width:400,marginTop:e.spacing(6),right:0},progress:{visibility:"hidden"},notification:{display:"flex",alignItems:"center",background:"transparent",boxShadow:"none",overflow:"visible"},notificationComponent:{paddingRight:e.spacing(4)}}});var Yr=Object(Fe.b)(function(e){return{userview:e.userview}},function(e){return Object(qe.b)({fetchUserView:gr},e)})(function(e){var t=Gr(),n=(Object(h.g)(),Object(a.useState)(null)),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),m=(s[0],s[1],Object(a.useState)([])),u=Object(L.a)(m,2),d=u[0],f=u[1],g=Object(Fe.c)(function(e){return e.userview}),b=Object(a.useState)(!1),O=Object(L.a)(b,2),v=O[0],E=(O[1],tn(),Object(a.useState)([])),_=Object(L.a)(E,2),C=_[0],x=_[1],T=new Date,w=Object(a.useState)({start_date:new Date(T.getFullYear(),T.getMonth(),1),end_date:new Date(T.getFullYear(),T.getMonth()+1,0)}),S=Object(L.a)(w,2),N=S[0],k=S[1];Object(a.useEffect)(function(){e.fetchUserView()},[]),Object(a.useEffect)(function(){if(!e.userview.loading&&e.userview.userview.length>0){f(g.userview.userview);var t=Wa()(F).startOf("day").format("YYYY-MM-DD HH:mm:ss"),n=Wa()(D).endOf("day").format("YYYY-MM-DD HH:mm:ss");console.log(Wa()(F).startOf("day").format("YYYY-MM-DD HH:mm:ss"),Wa()(D).endOf("day").format("YYYY-MM-DD HH:mm:ss")),B(t,n,e.userview.userview)}},[e.userview]);var I={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,selectableRows:!1,onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)},onRowsDelete:function(e){}},P=[],B=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n,a){var r,o,i,c,s,l;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:P=[],console.log("userviewData0 ========== ",a),r=Object(Jr.a)(a),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=22;break}return i=o.value,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:i.user_id,start_date:t,end_date:n})},e.prev=8,e.next=11,fetch("".concat(zt,"getReport"),c);case 11:return s=e.sent,e.next=14,s.json();case 14:l=e.sent,P.push({full_name:i.full_name,schedule_number:l.schedule_number,success:l.success,new_client:l.new_client,percentage:l.percentage}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(8);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(3),r.e(e.t1);case 27:return e.prev=27,r.f(),e.finish(27);case 30:console.log("################### ",P),x(P);case 32:case"end":return e.stop()}},e,null,[[3,24,27,30],[8,18]])}));return function(t,n,a){return e.apply(this,arguments)}}();if(console.log("***&&&&&&&&&&&&&& ",e.userview.userview),console.log("state ^^^^^^^^^^^ ",C),e.userview.loading)return r.a.createElement("div",null,"Loading...");var R=new Date,F=new Date(R.getFullYear(),R.getMonth(),1),D=new Date(R.getFullYear(),R.getMonth()+1,0),M=function(t,n){if(k(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},n,t))}),"start_date"==n){var a=Wa()(t).startOf("day").format("YYYY-MM-DD HH:mm:ss"),r=Wa()(N.end_date).endOf("day").format("YYYY-MM-DD HH:mm:ss");B(a,r,e.userview.userview)}else if("end_date"==n){var o=Wa()(N.start_date).startOf("day").format("YYYY-MM-DD HH:mm:ss"),i=Wa()(t).endOf("day").format("YYYY-MM-DD HH:mm:ss");B(o,i,e.userview.userview)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Schedules Report",data:d}),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"Start Date",selectedDate:N.start_date,handleChange:function(e){return M(e,"start_date")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"End Date",selectedDate:N.end_date,handleChange:function(e){return M(e,"end_date")}}))),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem",height:"50px"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Schedules Report",data:C,columns:[{name:"full_name",label:"Sales Name",options:{filter:!0,sort:!0}},{name:"schedule_number",label:"No of Schedules",options:{filter:!0,sort:!0}},{name:"success",label:"Success",options:{filter:!0,sort:!0}},{name:"percentage",label:"Success Percentage (%)",options:{filter:!0,sort:!0}},{name:"new_client",label:"New Client",options:{filter:!0,sort:!0}}],options:I})))),r.a.createElement(He,{open:v}))}),Vr=n(244),$r=n.n(Vr),Qr=n(269),Kr=n.n(Qr),Xr=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2)},text:{marginBottom:e.spacing(2)},table:{minWidth:650},difference:{backgroundColor:e.palette.success.main,color:"red!important"},divider:{marginTop:20,marginBottom:e.spacing(1)},buttonContainer:{paddingTop:10,display:"flex",justifyContent:"flex-end"},modal:{padding:150,display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto"},paper:{backgroundColor:e.palette.background.paper,margin:"auto",padding:e.spacing(2,4,3)}}});var Zr={loading:!1,salesreview:[],error:null};var eo=function(){return function(e){e({type:_t}),setTimeout(function(){fetch("".concat(zt,"getReview"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:Ct,salesreview:n})),console.log("Get SalesReview===>",t),t}).catch(function(t){e(function(e){return{type:jt,error:e}}(t))})},1e3)}};function to(e){e.color;var t,n=Object(g.a)(e,["color"]),a=Be();Object(R.a)();return r.a.createElement("div",{className:v()(a.status,(t={},Object(y.a)(t,a.draft,"reject"===n.status),Object(y.a)(t,a.paid,"accept"===n.status),Object(y.a)(t,a.pending,"pending"===n.status),t))},n.status.toUpperCase())}var no=n(220);var ao=Object(Fe.b)(function(e){return{salesreview:e.salesreview}},function(e){return Object(qe.b)({fetchSalesReview:eo},e)})(function(e){var t,n,o,i,s,m,u,d,f,g,b,y,O,v,E,_=Object(h.g)(),C=Xr(),x=Object(a.useState)([]),w=Object(L.a)(x,2),S=w[0],N=w[1],k=Object(a.useState)(null),P=Object(L.a)(k,2),B=P[0],R=P[1],F=Object(a.useState)(0),D=Object(L.a)(F,2),M=D[0],A=D[1],U=Object(Fe.c)(function(e){return e.salesreview}),H=Object(a.useState)({showModal:!1,selectedOrder:null}),q=Object(L.a)(H,2),z=q[0],W=q[1];Object(a.useEffect)(function(){console.log(U),e.fetchSalesReview(),N(U.salesreview)},[]);var J=function(e){return Object(an.b)(e)},G=[{name:"order_date",label:"Order Date",options:{filter:!0,sort:!0}},{name:"due_date",label:"Due Date",options:{filter:!0,sort:!0}},{name:"full_name",label:"Sales Name",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Client Name",options:{filter:!0,sort:!0}},{name:"net_total",label:"Total Amount",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Area",options:{filter:!0,sort:!0}},{name:"status",label:"Order Status",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(to,{status:0==e?"pending":1==e?"accept":"reject"})}}},{name:"order_id",label:"View Details",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){V(t,e)}},r.a.createElement(Kr.a,{style:{fontSize:"20"}})))}}},{name:"order_id",label:"Accept/Reject",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vn.a,{title:"Accept/Reject"},r.a.createElement(T.a,{onClick:function(t){Y(t,e)}},r.a.createElement($r.a,null))),r.a.createElement(ln.a,{id:"accept",anchorEl:B,keepMounted:!0,open:Boolean(B),onClose:Q},r.a.createElement(mn.a,{onClick:function(){$(e,1)}},"Accept"),r.a.createElement(mn.a,{onClick:function(){return $(e,-1)}},"Reject")))}}}],Y=function(e,t){A(t),R(e.currentTarget)},V=function(e,t){console.log(t),U.salesreview.filter(function(e){return e.order_id==t}).map(function(e){console.log("KKKKKKKKKKKKK==>",e),W(Object(l.a)(Object(l.a)({},z),{},{showModal:!0,selectedOrder:e}))})},$=function(t,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:M,status:n})};fetch("".concat(zt,"setStatus"),a).then(function(){var t=Object(ve.a)(Oe.a.mark(function t(n){var a;return Oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("Response Data=============>",a),n.ok||a&&a.message||n.status,Q(),e.fetchSalesReview(),N(U.salesreview);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){J("Something went wrong!\n"+e),console.error("There was an error!",e)})},Q=function(){R(null)},K={filterType:"dropdown",pagination:!0,print:!1,download:!1,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=U.salesreview[e.dataIndex].order_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e})};fetch("".concat(zt,"removeOrder"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){J("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Review Orders",data:S,category:"review",history:_}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Review Orders",data:U.salesreview,columns:G,options:K}),r.a.createElement(no.a,{open:z.showModal,onClose:function(){return W(Object(l.a)(Object(l.a)({},z),{},{showModal:!1,selectedOrder:null}))},"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:C.modal},r.a.createElement(pn,{title:"View Detail",disableWidgetMenu:!0},r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Sales name : ",null===(t=z.selectedOrder)||void 0===t?void 0:t.full_name)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Client Name : ",null===(n=z.selectedOrder)||void 0===n?void 0:n.client_entity_name))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Order date : ",null===(o=z.selectedOrder)||void 0===o?void 0:o.order_date)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Due date : ",null===(i=z.selectedOrder)||void 0===i?void 0:i.due_date))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Total Amount : ",null===(s=z.selectedOrder)||void 0===s?void 0:s.net_total)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Area : ",null===(m=z.selectedOrder)||void 0===m?void 0:m.company_entity_name))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(to,{status:0==(null===(u=z.selectedOrder)||void 0===u?void 0:u.status)?"pending":1==(null===(d=z.selectedOrder)||void 0===d?void 0:d.status)?"accept":"reject"})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Promotion : ",null===(f=z.selectedOrder)||void 0===f?void 0:f.promotions))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Tax : ",null===(g=z.selectedOrder)||void 0===g?void 0:g.tax)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Shipping Cost : ",null===(b=z.selectedOrder)||void 0===b?void 0:b.shipping_cost))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Items : ",null===(y=z.selectedOrder)||void 0===y?void 0:y.order_items)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Notes : ",null===(O=z.selectedOrder)||void 0===O?void 0:O.notes))),r.a.createElement(ae.a,null),null!=(null===(v=z.selectedOrder)||void 0===v?void 0:v.custom_field)?r.a.createElement(j.a,{container:!0,spacing:4},null===(E=z.selectedOrder)||void 0===E?void 0:E.custom_field.split(", ").map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},e.split(":")[0],": ",e.split(":")[1]))})):null))))))});var ro={loading:!1,saleshistory:[],error:null};var oo=function(){return function(e){e({type:xt}),setTimeout(function(){fetch("".concat(zt,"getHistory"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:Tt,saleshistory:n})),console.log("Get SalesHistory===>",t),t}).catch(function(t){e(function(e){return{type:wt,error:e}}(t))})},1e3)}};var io=Object(Fe.b)(function(e){return{saleshistory:e.saleshistory}},function(e){return Object(qe.b)({fetchSalesHistory:oo},e)})(function(e){var t,n,o,i,s,m,u,d,f,g,b,y,O,v,E,_=Object(h.g)(),C=Xr(),x=Object(a.useState)([]),w=Object(L.a)(x,2),S=w[0],N=(w[1],Object(a.useState)(null)),k=Object(L.a)(N,2),P=(k[0],k[1],Object(a.useState)(0)),B=Object(L.a)(P,2),R=(B[0],B[1],Object(Fe.c)(function(e){return e.saleshistory}));console.log("sales history===============>",R);var F=new Date,D=Object(a.useState)({start_date:new Date(F.getFullYear(),F.getMonth(),1),end_date:new Date(F.getFullYear(),F.getMonth()+1,0),showModal:!1,selectedOrder:null}),M=Object(L.a)(D,2),A=M[0],U=M[1];Object(a.useEffect)(function(){e.fetchSalesHistory()},[]);var H=[{name:"order_date",label:"Order Date",options:{filter:!0,sort:!0}},{name:"due_date",label:"Due Date",options:{filter:!0,sort:!0}},{name:"full_name",label:"Sales Name",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Client Name",options:{filter:!0,sort:!0}},{name:"net_total",label:"Total Amount",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Area",options:{filter:!0,sort:!0}},{name:"status",label:"Order Status",options:{filter:!0,sort:!0,customBodyRender:function(e,t,n){return r.a.createElement(to,{status:0==e?"pending":1==e?"accept":"reject"})}}},{name:"order_id",label:"View",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){q(t,e)}},r.a.createElement(Kr.a,{style:{fontSize:"20"}})))}}}],q=function(e,t){R.saleshistory.filter(function(e){return e.order_id==t}).map(function(e){U(Object(l.a)(Object(l.a)({},A),{},{showModal:!0,selectedOrder:e}))})},z={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=R.saleshistory[e.dataIndex].order_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e})};fetch("".concat(zt,"removeOrder"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Orders History",data:S,category:"history",history:_}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Orders History",data:R.saleshistory,columns:H,options:z}),r.a.createElement(no.a,{open:A.showModal,onClose:function(){return U(Object(l.a)(Object(l.a)({},A),{},{showModal:!1,selectedOrder:null}))},"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:C.modal},r.a.createElement(pn,{title:"View Detail",disableWidgetMenu:!0},r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Sales name : ",null===(t=A.selectedOrder)||void 0===t?void 0:t.full_name)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Client Name : ",null===(n=A.selectedOrder)||void 0===n?void 0:n.client_entity_name))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Order date : ",null===(o=A.selectedOrder)||void 0===o?void 0:o.order_date)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Due date : ",null===(i=A.selectedOrder)||void 0===i?void 0:i.due_date))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Total Amount : ",null===(s=A.selectedOrder)||void 0===s?void 0:s.net_total)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Area : ",null===(m=A.selectedOrder)||void 0===m?void 0:m.company_entity_name))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(to,{status:0==(null===(u=A.selectedOrder)||void 0===u?void 0:u.status)?"pending":1==(null===(d=A.selectedOrder)||void 0===d?void 0:d.status)?"accept":"reject"})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Promotion : ",null===(f=A.selectedOrder)||void 0===f?void 0:f.promotions))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Tax : ",null===(g=A.selectedOrder)||void 0===g?void 0:g.tax)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Shipping Cost : ",null===(b=A.selectedOrder)||void 0===b?void 0:b.shipping_cost))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Items : ",null===(y=A.selectedOrder)||void 0===y?void 0:y.order_items)),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},"Notes : ",null===(O=A.selectedOrder)||void 0===O?void 0:O.notes))),r.a.createElement(ae.a,null),null!=(null===(v=A.selectedOrder)||void 0===v?void 0:v.custom_field)?r.a.createElement(j.a,{container:!0,spacing:4},null===(E=A.selectedOrder)||void 0===E?void 0:E.custom_field.split(", ").map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:C.formContainer},r.a.createElement(I.a,{variant:"subtitle1"},e.split(":")[0],": ",e.split(":")[1]))})):null))))))}),co=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var so={loading:!1,salesitem:[],error:null};var lo=function(e){return function(t){t({type:St});var n={company_id:e};setTimeout(function(){fetch("".concat(zt,"getItemsbyCompanyId"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;var n;return t((n=e,console.log("action===>",n),{type:Nt,salesitem:n})),console.log("Get SalesItem===>",e),e}).catch(function(e){t(function(e){return{type:kt,error:e}}(e))})},1e3)}};var mo=Object(Fe.b)(function(e){return{salesitem:e.salesitem,company:e.company}},function(e){return Object(qe.b)({fetchSalesItem:lo,fetchCompany:qn},e)})(function(e){co();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),m=(s[0],s[1],Object(a.useState)([])),u=Object(L.a)(m,2),d=u[0],f=u[1],g=Object(Fe.c)(function(e){return e.company}),b=Object(a.useState)({company_id:localStorage.getItem("company_id"),company_entity_name:"All",companyIDList:localStorage.getItem("company_id").split(", "),itemData:[]}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchCompany(),console.log(g),f(g.company),_(v.company_id)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getItemsbyCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:E(function(e){return Object(l.a)(Object(l.a)({},e),{},{itemData:n})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})},C=function(e){var t=[];return Boolean(e)&&e.length?(1!=v.companyIDList.length&&t.push("All"),e.map(function(e){v.companyIDList.includes(null===e||void 0===e?void 0:e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(g.company),x=function(e,t){if(["company_entity_name"].includes(t))!function(e){var t="";if("All"==e)t=v.companyIDList.join(", "),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t})),_(t);else{var n=g.company.filter(function(t){return t.company_entity_name==e});null!=n[0]&&(t=n[0].company_id.toString(),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t})),_(t))}}(e),E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}},w=function(e){return Object(an.b)(e)},S=[{name:"item_name",label:"Item Name",options:{filter:!0,sort:!0}},{name:"company_entity_name",label:"Company",options:{filter:!0,sort:!0}},{name:"category_name",label:"Category",options:{filter:!0,sort:!0}},{name:"unit_price",label:"Unit Price",options:{filter:!0,sort:!0}},{name:"unit",label:"Unit",options:{filter:!0,sort:!0}},{name:"tag",label:"Tag",options:{filter:!0,sort:!0}},{name:"item_id",label:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){N(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],N=function(e,n){t.push("/app/salesorder/item/"+n+"/edit")},k={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=v.itemData.salesitem[e.dataIndex].order_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:e})};fetch("".concat(zt,"removeItem"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}},I=function(e){for(var t=1;t<e.length-1;t++){var n=e[t],a={item_name:n[0],category_id:n[1],company_id:n[2],unit_price:n[3],unit:n[4]},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};setTimeout(fetch("".concat(zt,"createItem"),r).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(null==n.client_id){e.next=14;break}return w("This client is already exist."),e.abrupt("return");case 14:0!=n.id&&w("Successfully appended");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){w("Something went wrong!\n"+e),console.error("There was an error!",e)}),100)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Items Database",button:["Add New"],data:d,category:"salesorder_item",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(j.a,{item:!0,xs:12,md:4},r.a.createElement(_n,{req:!0,name:"Company",items:C,value:1==C.length?C[0]:v.company_entity_name,handleChange:function(e){return x(e,"company_entity_name")}})),r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Items Database",data:v.itemData,columns:S,options:k})))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(_a.a,{label:"Import CSV: ",onFileLoaded:function(e){return function(e){console.log(e),I(e)}(e)}})),r.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2},r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){window.location.reload()}},"See Result"))))}),uo=n(212),po=n.n(uo),fo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var go=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=co(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.company})),b=Object(a.useState)({company_entity_name:"",item_name:"",company_id:"",category_id:"",category_name:"",unit_price:"",unit:"",tag:"",companyIDList:localStorage.getItem("company_id").split(", "),categoryList:[],categoryNameList:[],unitList:[],item_id:0,showDiscount:!1,discount_type:"UNIT",min_qty:"",max_qty:"",amount:"",discountList:[]}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){e.fetchCompany(),console.log(g),_(),C()},[]);var _=function(){fetch("".concat(zt,"getCategory"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("groupdData--\x3e ",n),r=[],n.map(function(e){r.push(e.category_name)}),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{categoryList:n,categoryNameList:[].concat(r)})});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})};console.log("********************** state.categoryNameList ==>",v.categoryNameList);var C=function(){fetch("".concat(zt,"getUnit"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("unitData--\x3e ",n,v),r=[],n.map(function(e){r.push(e.unit_name)}),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{unitList:[].concat(r)})});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},x=function(e){return Object(an.b)(e)},w=function(e){console.log("originall ====> ",v.companyIDList);var t=["All"];return Boolean(e)&&e.length?(e.map(function(e){v.companyIDList.includes(e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),console.log("Temp==> ",t),t):[]}(g.company),S=function(e,t){if("company_entity_name"==t)!function(e){var t="";if("All"==e)t=v.companyIDList.join(", "),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t}));else{var n=g.company.filter(function(t){return t.company_entity_name==e});null!=n[0]&&(t=n[0].company_id.toString(),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t})))}}(e),E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("category_name"==t)!function(e){var t=v.categoryList.filter(function(t){return t.category_name==e});null!=t[0]&&(console.log("object[0].category_id==>",t[0].category_id),E(Object(l.a)(Object(l.a)({},v),{},{category_id:t[0].category_id})))}(e),E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("unit"==t)E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("discount_type"==t)E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Item"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:5},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Name",value:v.item_name,handleChange:function(e){return S(e,"item_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:w,value:v.company_entity_name,handleChange:function(e){return S(e,"company_entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Category Name",items:v.categoryNameList,value:v.category_name,handleChange:function(e){return S(e,"category_name")}}))),r.a.createElement(j.a,{container:!0,spacing:5},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Unit Price",value:v.unit_price,handleChange:function(e){return S(e,"unit_price")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Unit",items:v.unitList,value:v.unit,handleChange:function(e){return S(e,"unit")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Tag",value:v.tag,handleChange:function(e){return S(e,"tag")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6}),r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.category_name&&""!=v.category_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:v.item_name,category_id:v.category_id,company_id:v.company_id,unit_price:v.unit_price,unit:v.unit,tag:v.tag})};fetch("".concat(zt,"createItem"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.id){e.next=14;break}return x("This item is already exist."),e.abrupt("return");case 14:0!=n.id&&(E(function(e){return Object(l.a)(Object(l.a)({},e),{},{item_id:n.id,showDiscount:!0})}),k("shipped"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){x("Something went wrong!\n"+e),console.error("There was an error!",e)})}else x("Please enter group name.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/item")}},"Cancel"))))),0!=v.discountList.length?r.a.createElement(r.a.Fragment,null,v.discountList.map(function(e){return r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Discount Type",value:e.type})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Min QTY",value:e.min_qty})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Max QTY",value:e.max_qty})),"UNIT"==e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Free Unit",value:e.amount}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Percentage",value:e.amount}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(T.a,{"aria-label":"delete",className:t.margin,onClick:function(){return function(e){console.log("Discount ID ==> ",e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discount_id:e})};fetch("".concat(zt,"removeDiscount"),t).then(function(){var t=Object(ve.a)(Oe.a.mark(function t(n){var a,r,o;return Oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(a=t.sent,console.log("Response Data=============>",a),n.ok){t.next=7;break}return r=a&&a.message||n.status,t.abrupt("return",Promise.reject(r));case 7:o=(o=v.discountList).filter(function(t){return t.discount_id!=e}),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{discountList:o})});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){x("Something went wrong!\n"+e),console.error("There was an error!",e)})}(e.discount_id)}},r.a.createElement(po.a,null))))})):null,v.showDiscount?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:5},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Discount Type",items:["UNIT","PERCENT"],value:v.discount_type,handleChange:function(e){return S(e,"discount_type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Min QTY",value:v.min_qty,handleChange:function(e){return S(e,"min_qty")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Max QTY",value:v.max_qty,handleChange:function(e){return S(e,"max_qty")}})),"UNIT"==v.discount_type?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Free Unit",value:v.amount,handleChange:function(e){return S(e,"amount")}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Percentage",value:v.amount,handleChange:function(e){return S(e,"amount")}}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(T.a,{"aria-label":"delete",className:t.margin,onClick:function(){return function(){if(""==v.min_qty)x("Please enter min quantity.");else if(""==v.max_qty)x("Please enter max quantity.");else if(""==v.amount)x("Please enter amount");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:v.item_id,amount:v.amount,min_quantity:v.min_qty,max_quantity:v.max_qty,type:v.discount_type})};fetch("".concat(zt,"createDiscount"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.discount_id){e.next=14;break}return x("This discount is already exist."),e.abrupt("return");case 14:0!=n.discount_id&&(k("shipped"),(r=v.discountList).push({item_id:v.item_id,amount:v.amount,min_qty:v.min_qty,max_qty:v.max_qty,type:v.discount_type,discount_id:n.discount_id}),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{discountList:r})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){x("Something went wrong!\n"+e),console.error("There was an error!",e)})}}()}},r.a.createElement(xe.a,null))))):null))));function N(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function k(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:N};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:fo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),bo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var ho=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=co(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.company})),b=function(e){return Object(an.b)(e)},O=e.match.params.item,v=Object(a.useState)({item_id:O,company_entity_name:"",item_name:"",company_id:"",category_id:"",category_name:"",unit_price:"",unit:"",tag:"",companyIDList:localStorage.getItem("company_id").split(", "),categoryList:[],categoryNameList:[],unitList:[],showDiscount:!1,discount_type:"UNIT",min_qty:"",max_qty:"",amount:"",discountList:[]}),E=Object(L.a)(v,2),_=E[0],C=E[1];Object(a.useEffect)(function(){e.fetchCompany(),x(),w(),S(),N(O)},[]);var x=function(){fetch("".concat(zt,"getUnit"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("unitData--\x3e ",n),r=[],n.map(function(e){r.push(e.unit_name)}),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{unitList:[].concat(r)})});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},w=function(){fetch("".concat(zt,"getCategory"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:r=[],n.map(function(e){r.push(e.category_name)}),console.log("categoryData--\x3e ",r),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{categoryList:n,categoryNameList:[].concat(r)})});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},S=function(){var e={item_id:O},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(zt,"getItemsbyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("get Data@--\x3e ",n),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{company_entity_name:n.company_entity_name,item_name:n.item_name,company_id:n.company_id,category_id:n.category_id,category_name:n.category_name,unit_price:n.unit_price,unit:n.unit,tag:n.tag})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},N=function(e){var t={item_id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("".concat(zt,"getDiscountsbyItemId"),n).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("discountList===> ",n),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{discountList:n,showDiscount:0!=n.length})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},k=function(e){console.log("originall ====> ",_.companyIDList);var t=[];return Boolean(e)&&e.length?(e.map(function(e){_.companyIDList.includes(e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),console.log("Temp==> ",t),t):[]}(g.company),I=function(e,t){if("company_entity_name"==t)!function(e){var t=g.company.filter(function(t){return t.company_entity_name==e});null!=t[0]&&C(Object(l.a)(Object(l.a)({},_),{},{company_id:t[0].company_id.toString()}))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("category_name"==t)!function(e){var t=_.categoryList.filter(function(t){return t.category_name==e});null!=t[0]&&(console.log("object[0].category_id==>",t[0].category_id),C(Object(l.a)(Object(l.a)({},_),{},{category_id:t[0].category_id})))}(e),C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("unit"==t)C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else if("discount_type"==t)C(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var n=e.target,a=(n.name,n.value);C(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Item"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Item Name",value:_.item_name,handleChange:function(e){return I(e,"item_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Company Name",items:k,value:_.company_entity_name,handleChange:function(e){return I(e,"company_entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Category Name",items:_.categoryNameList,value:_.category_name,handleChange:function(e){return I(e,"category_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Unit Price",value:_.unit_price,handleChange:function(e){return I(e,"unit_price")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Unit",items:_.unitList,value:_.unit,handleChange:function(e){return I(e,"unit")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Tag",value:_.tag,handleChange:function(e){return I(e,"tag")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/item")}},"Cancel")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=_.company_entity_name&&""!=_.company_entity_name)if(null!=_.category_name&&""!=_.category_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:_.item_id,item_name:_.item_name,category_id:_.category_id,company_id:_.company_id,unit_price:_.unit_price,unit:_.unit,tag:_.tag})};fetch("".concat(zt,"updateItem"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.category_id){e.next=14;break}return b("This Item is already exist."),e.abrupt("return");case 14:0!=n.category_id&&R("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){b("Something went wrong!\n"+e),console.error("There was an error!",e)})}else b("Please enter group name.");else b("Please enter client name.")}()}},"Save"))))),0!=_.discountList.length?r.a.createElement(r.a.Fragment,null,_.discountList.map(function(e){return r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Discount Type",value:e.type})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Min QTY",value:e.min_quantity})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Max QTY",value:e.max_quantity})),"UNIT"==e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Free Unit",value:e.amount}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{disabled:!0,title:"Percentage",value:e.amount}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(T.a,{"aria-label":"delete",className:t.margin,onClick:function(){return function(e){console.log("Discount ID ==> ",e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discount_id:e})};fetch("".concat(zt,"removeDiscount"),t).then(function(){var t=Object(ve.a)(Oe.a.mark(function t(n){var a,r,o;return Oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(a=t.sent,console.log("Response Data=============>",a),n.ok){t.next=7;break}return r=a&&a.message||n.status,t.abrupt("return",Promise.reject(r));case 7:o=(o=_.discountList).filter(function(t){return t.discount_id!=e}),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{discountList:o})});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){b("Something went wrong!\n"+e),console.error("There was an error!",e)})}(e.discount_id)}},r.a.createElement(po.a,null))))})):null,_.showDiscount?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:5},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Discount Type",items:["UNIT","PERCENT"],value:_.discount_type,handleChange:function(e){return I(e,"discount_type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Min QTY",value:_.min_qty,handleChange:function(e){return I(e,"min_qty")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Max QTY",value:_.max_qty,handleChange:function(e){return I(e,"max_qty")}})),"UNIT"==_.discount_type?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Free Unit",value:_.amount,handleChange:function(e){return I(e,"amount")}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Percentage",value:_.amount,handleChange:function(e){return I(e,"amount")}}))),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:2,className:t.formContainer},r.a.createElement(T.a,{"aria-label":"delete",className:t.margin,onClick:function(){return function(){if(""==_.min_qty)b("Please enter min quantity.");else if(""==_.max_qty)b("Please enter max quantity.");else if(""==_.amount)b("Please enter amount");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:_.item_id,amount:_.amount,min_quantity:_.min_qty,max_quantity:_.max_qty,type:_.discount_type})};fetch("".concat(zt,"createDiscount"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.discount_id){e.next=14;break}return b("This discount is already exist."),e.abrupt("return");case 14:0!=n.discount_id&&(R("shipped"),(r=_.discountList).push({item_id:_.item_id,amount:_.amount,min_quantity:_.min_qty,max_quantity:_.max_qty,type:_.discount_type,discount_id:n.discount_id}),C(function(e){return Object(l.a)(Object(l.a)({},e),{},{min_qty:"",max_qty:"",amount:"",discountList:r})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){b("Something went wrong!\n"+e),console.error("There was an error!",e)})}}()}},r.a.createElement(xe.a,null))))):null))));function B(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function R(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:B};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:bo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),yo=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var Oo={loading:!1,discount:[],error:null};var vo=function(){return function(e){e({type:It});var t={company_id:localStorage.getItem("company_id")};setTimeout(function(){fetch("".concat(zt,"getDiscountsbyCompanyId"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:Pt,discount:n})),console.log("Get SalesItem===>",t),t}).catch(function(t){e(function(e){return{type:Bt,error:e}}(t))})},1e3)}};var Eo=Object(Fe.b)(function(e){return{discount:e.discount}},function(e){return Object(qe.b)({fetchDiscount:vo},e)})(function(e){yo();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([])),m=Object(L.a)(l,2),u=(m[0],m[1]),d=Object(Fe.c)(function(e){return e.discount});Object(a.useEffect)(function(){e.fetchDiscount(),u(d.discount)},[]);var f=[{name:"item_name",label:"Item Name",options:{filter:!0,sort:!0}},{name:"min_quantity",label:"Min Quantity",options:{filter:!0,sort:!0}},{name:"max_quantity",label:"Max Quantity",options:{filter:!0,sort:!0}},{name:"amount",label:"Unit",options:{filter:!0,sort:!0}},{name:"discount_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){g(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],g=function(e,n){t.push("/app/salesorder/discount/"+n+"/edit")},b={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=d.discount[e.dataIndex].discount_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discount_id:e})};fetch("".concat(zt,"removeDiscount"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Discounts",data:d.discount,columns:f,options:b})))))}),_o=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Co=Object(Fe.b)(function(e){return{clientview:e.clientview}},function(e){return Object(qe.b)({fetchClientView:Lr},e)})(function(e){var t=yo(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(a.useState)({item_name:"",itemList:[],itemNameList:[],min_quantity:"",max_quantity:"",amount:""})),b=Object(L.a)(g,2),O=b[0],v=b[1];Object(a.useEffect)(function(){E()},[]);var E=function(){var e={company_id:localStorage.getItem("company_id")},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(zt,"getItemsbyCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("groupdData--\x3e ",n),r=[],n.map(function(e){r.push(e.item_name)}),v(Object(l.a)(Object(l.a)({},O),{},{itemList:n,itemNameList:r}));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},_=function(e){return Object(an.b)(e)},C=function(e,t){if("item_name"==t)!function(e){var t=O.itemList.filter(function(t){return t.item_name==e});null!=t[0]&&(console.log("object[0].item_id==>",t[0].item_id),v(Object(l.a)(Object(l.a)({},O),{},{item_id:t[0].item_id})))}(e),v(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))});else{var n=e.target,a=(n.name,n.value);v(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Item Discount"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/item/add")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Item Name",items:O.itemNameList,value:O.item_name,handleChange:function(e){return C(e,"item_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Amount",value:O.amount,handleChange:function(e){return C(e,"amount")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Min Quantity",value:O.min_quantity,handleChange:function(e){return C(e,"min_quantity")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Max Quantity",value:O.max_quantity,handleChange:function(e){return C(e,"max_quantity")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=O.item_name&&""!=O.item_name)if(null!=O.amount&&""!=O.amount)if(null!=O.min_quantity&&""!=O.min_quantity)if(null!=O.max_quantity&&""!=O.max_quantity)if(Number(O.min_quantity)>Number(O.max_quantity))_("Please enter valid values.");else if(Number(O.min_quantity)<0)_("Please enter valid min quality.");else if(Number(O.max_quantity)<0)_("Please enter valid max quality.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:O.item_id,amount:O.amount,min_quantity:O.min_quantity,max_quantity:O.max_quantity})};fetch("".concat(zt,"createDiscount"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.discount_id){e.next=14;break}return _("This discount is already exist."),e.abrupt("return");case 14:0!=n.discount_id&&(T("shipped"),v(Object(l.a)(Object(l.a)({},O),{},{item_id:"",amount:"",min_quantity:"",max_quantity:"",item_name:""})));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})}else _("Please enter max quantity.");else _("Please enter min quantity.");else _("Please enter amount.");else _("Please enter item name.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=O.item_name&&""!=O.item_name)if(null!=O.amount&&""!=O.amount)if(null!=O.min_quantity&&""!=O.min_quantity)if(null!=O.max_quantity&&""!=O.max_quantity)if(Number(O.min_quantity)>Number(O.max_quantity))_("Please enter valid values.");else if(Number(O.min_quantity)<0)_("Please enter valid min quality.");else if(Number(O.max_quantity)<0)_("Please enter valid max quality.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:O.item_id,amount:O.amount,min_quantity:O.min_quantity,max_quantity:O.max_quantity})};fetch("".concat(zt,"createDiscount"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(0!=a.discount_id){e.next=14;break}return _("This discount is already exist."),e.abrupt("return");case 14:0!=a.discount_id&&(T("shipped"),n.push("/app/salesorder/item/add"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})}else _("Please enter max quantity.");else _("Please enter min quantity.");else _("Please enter amount.");else _("Please enter item name.")}()}},"Save & Back")))))))),r.a.createElement(Eo,null));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:_o[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),jo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var xo=Object(Fe.b)(function(e){return{clientview:e.clientview}},function(e){return Object(qe.b)({fetchClientView:Lr},e)})(function(e){var t=yo(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],e.match.params.discount),b=Object(a.useState)({item_name:g,itemList:[],itemNameList:[],min_quantity:"",max_quantity:"",amount:""}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(),C(g)},[]);var _=function(){var e={company_id:localStorage.getItem("company_id")},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(zt,"getItemsbyCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("groupdData--\x3e ",n),r=[],n.map(function(e){r.push(e.item_name)}),E(Object(l.a)(Object(l.a)({},v),{},{itemList:n,itemNameList:r}));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){var t={discount_id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("".concat(zt,"getDiscountsbyId"),n).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("get Data@--\x3e ",n),E(Object(l.a)(Object(l.a)({},v),{},{item_id:n.item_id,item_name:n.item_name,min_quantity:n.min_quantity,max_quantity:n.max_quantity,amount:n.amount}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},x=function(e){return Object(an.b)(e)},T=function(e,t){if("item_name"==t)x("You can't change the item name.");else{var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Item Discount"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Item Name",value:v.item_name,handleChange:function(e){return T(e,"item_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Amount",value:v.amount,handleChange:function(e){return T(e,"amount")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Min Quantity",value:v.min_quantity,handleChange:function(e){return T(e,"min_quantity")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Max Quantity",value:v.max_quantity,handleChange:function(e){return T(e,"max_quantity")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.item_name&&""!=v.item_name)if(null!=v.amount&&""!=v.amount)if(null!=v.min_quantity&&""!=v.min_quantity)if(null!=v.max_quantity&&""!=v.max_quantity)if(Number(v.min_quantity)>Number(v.max_quantity))x("Please enter valid values.");else if(Number(v.min_quantity)<0)x("Please enter valid min quality.");else if(Number(v.max_quantity)<0)x("Please enter valid max quality.");else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discount_id:g,item_id:v.item_id,amount:v.amount,min_quantity:v.min_quantity,max_quantity:v.max_quantity})};fetch("".concat(zt,"updateDiscount"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.discount_id){e.next=14;break}return x("This discount is already exist."),e.abrupt("return");case 14:0!=n.discount_id&&S("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){x("Something went wrong!\n"+e),console.error("There was an error!",e)})}else x("Please enter max quantity.");else x("Please enter min quantity.");else x("Please enter amount.");else x("Please enter item name.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/discount")}},"Cancel")))))))));function w(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function S(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:w};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:jo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),To=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var wo={loading:!1,promotion:[],error:null};var So=function(){return function(e){e({type:Rt});var t={company_id:localStorage.getItem("company_id")};setTimeout(function(){fetch("".concat(zt,"getPromotionsbyCompanyId"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:Ft,promotion:n})),console.log("Get SalesItem===>",t),t}).catch(function(t){e(function(e){return{type:Dt,error:e}}(t))})},1e3)}};var No=function(){return function(e){e({type:Mt}),setTimeout(function(){fetch("".concat(zt,"getCoupons"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:At,coupon:n})),console.log("Get SalesItem===>",t),t}).catch(function(t){e(function(e){return{type:Lt,error:e}}(t))})},1e3)}};var ko=Object(Fe.b)(function(e){return{promotion:e.promotion,coupon:e.coupon}},function(e){return Object(qe.b)({fetchPromotion:So,fetchCoupon:No},e)})(function(e){To();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([{promotion_id:1,code:"AAAAAA",type:"PERCENT",amount:10},{promotion_id:2,code:"BBBBBB",type:"UNIT",amount:5},{promotion_id:3,code:"CCCCCC",type:"TOTAL",amount:560}])),m=Object(L.a)(l,2),u=m[0],d=m[1],f=Object(Fe.c)(function(e){return e.promotion}),g=Object(Fe.c)(function(e){return e.coupon}),b=function(){return Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})};Object(a.useEffect)(function(){e.fetchPromotion(),d(f.promotion),e.fetchCoupon()},[]);var y=[{name:"type",label:"Type",options:{filter:!0,sort:!0}},{name:"amount",label:"Amount",options:{filter:!0,sort:!0}},{name:"client_entity_name",label:"Client",options:{filter:!0,sort:!0}},{name:"promotion_id",label:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){v(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],O=[{name:"code",label:"Code",options:{filter:!0,sort:!0}},{name:"type",label:"Type",options:{filter:!0,sort:!0}},{name:"amount",label:"Amount",options:{filter:!0,sort:!0}},{name:"start_date",label:"Start Date",options:{filter:!0,sort:!0}},{name:"end_date",label:"Expiration Date",options:{filter:!0,sort:!0}},{name:"coupon_id",label:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){E(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],v=function(e,n){t.push("/app/salesorder/promotion/"+n+"/edit")},E=function(e,n){t.push("/app/salesorder/coupon/"+n+"/edit")},_={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=f.promotion[e.dataIndex].promotion_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promotion_id:e})};fetch("".concat(zt,"removePromotion"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}},C={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=g.coupon[e.dataIndex].coupon_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coupon_id:e})};fetch("".concat(zt,"removeCoupon"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Company Loyalty",button:["Add New"],data:u,category:"salesorder_promotion",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:b()},r.a.createElement(_e.a,{title:"Company Loyalty",data:f.promotion,columns:y,options:_})))),r.a.createElement(ae.a,null),r.a.createElement(Pe,{title:"Coupon Loyalty",button:["Add New"],data:u,category:"salesorder_coupon",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:b()},r.a.createElement(_e.a,{title:"Coupon Loyalty",data:g.coupon,columns:O,options:C})))))}),Io=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Po=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=To(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.company}),Object(a.useState)({code:"",typeList:["PERCENT","FLOAT"],type:"PERCENT",amount:"",client_entity_name:"",client_id:"",clients:[],clientNameList:[]})),b=Object(L.a)(g,2),O=b[0],v=b[1];Object(a.useEffect)(function(){_(localStorage.getItem("company_id"))},[]);var E=function(e){return Object(an.b)(e)},_=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getClientByCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:r=C(n),v(function(e){return Object(l.a)(Object(l.a)({},e),{},{clients:r})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){E("Something went wrong!\n"+e),console.error("There was an error!",e)})},C=function(e){var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Company Loyalty"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/promotion")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Type",items:O.typeList,value:O.type,handleChange:function(e){return function(e,t){"type"==t&&v(Object(l.a)(Object(l.a)({},O),{},{type:e}))}(e,"type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"FLAT"==O.type?"Amount(Price)":"Amount(%)",value:O.amount,handleChange:function(e){return function(e,t){"PERCENT"==O.type&&Number(e.target.value)>100?E("This field should smaller than 100."):v(Object(l.a)(Object(l.a)({},O),{},Object(y.a)({},t,e.target.value)))}(e,"amount")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!1,name:"Client Name",items:O.clients.map(function(e){return null===e||void 0===e?void 0:e.value}),value:O.client_entity_name,handleChange:function(e){return function(e,t){"client_entity_name"==t&&null!=O.clients.filter(function(t){return t.value==e})[0]&&v(Object(l.a)(Object(l.a)({},O),{},{client_entity_name:e,client_id:O.clients.filter(function(t){return t.value==e})[0].key}))}(e,"client_entity_name")}}))),r.a.createElement(j.a,{container:!0,spacing:1}),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(console.log(O.client_entity_name,O.client_id),null!=O.amount&&""!=O.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:O.type,amount:O.amount,client_id:O.client_id})};fetch("".concat(zt,"createPromotion"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.promotion_id){e.next=14;break}return E("This promotion code is already exist."),e.abrupt("return");case 14:0!=n.promotion_id&&(T("shipped"),v(function(){return Object(l.a)(Object(l.a)({},O),{},{amount:"",client_id:""})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){E("Something went wrong!\n"+e),console.error("There was an error!",e)})}else E("Please enter amount.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=O.amount&&""!=O.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:O.type,amount:O.amount,client_id:O.client_id})};console.log("Body ===> ",e),fetch("".concat(zt,"createPromotion"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(0!=a.promotion_id){e.next=14;break}return E("This promotion code is already exist."),e.abrupt("return");case 14:0!=a.promotion_id&&(T("shipped"),n.push("/app/salesorder/promotion"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){E("Something went wrong!\n"+e),console.error("There was an error!",e)})}else E("Please enter amount.")}()}},"Save & Back")))))))));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Io[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Bo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Ro=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=To(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],e.match.params.promotion),b=Object(a.useState)({promotion_id:g,typeList:["PERCENT","FLAT"],type:"PERCENT",amount:"",client_entity_name:"",client_id:"",clients:[],clientNameList:[]}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(g),x(localStorage.getItem("company_id"))},[]);var _=function(e){var t={promotion_id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("".concat(zt,"getPromotionsbyId"),n).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(Object(l.a)(Object(l.a)({},v),{},{type:n.type,amount:n.amount,client_id:n.client_id,client_entity_name:n.client_entity_name}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){return Object(an.b)(e)},x=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getClientByCompanyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:r=T(n),E(function(e){return Object(l.a)(Object(l.a)({},e),{},{clients:r})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})},T=function(e){var t=[];return Boolean(e)&&e.length?(e.map(function(e){var n={key:null===e||void 0===e?void 0:e.client_id,value:null===e||void 0===e?void 0:e.client_entity_name};t.push(n)}),t):[]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Promotion"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Type",items:v.typeList,value:v.type,handleChange:function(e){return function(e,t){"type"==t&&E(Object(l.a)(Object(l.a)({},v),{},{type:e}))}(e,"type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"FLAT"==v.type?"Amount(Price)":"Amount(%)",value:v.amount,handleChange:function(e){return function(e,t){"PERCENT"==v.type&&Number(e.target.value)>100?C("This field should smaller than 100."):E(Object(l.a)(Object(l.a)({},v),{},Object(y.a)({},t,e.target.value)))}(e,"amount")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!1,name:"Client Name",items:v.clients.map(function(e){return null===e||void 0===e?void 0:e.value}),value:v.client_entity_name,handleChange:function(e){return function(e,t){"client_entity_name"==t&&null!=v.clients.filter(function(t){return t.value==e})[0]&&E(Object(l.a)(Object(l.a)({},v),{},{client_entity_name:e,client_id:v.clients.filter(function(t){return t.value==e})[0].key}))}(e,"client_entity_name")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promotion_id:g,type:v.type,amount:v.amount,client_id:v.client_id})};fetch("".concat(zt,"updatePromotion"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.promotion_id){e.next=14;break}return C("This promotion code is already exist."),e.abrupt("return");case 14:0!=n.promotion_id&&S("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please enter amount.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/promotion")}},"Cancel")))))))));function w(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function S(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:w};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Bo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Fo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Do=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=To(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],new Date),b=Object(a.useState)({code:"",typeList:["PERCENT","FLOAT","UNIT"],type:"PERCENT",amount:"",start_date:Wa()(new Date(g.getFullYear(),g.getMonth(),1)).format("YYYY-MM-DD HH:mm:ss"),end_date:Wa()(new Date(g.getFullYear(),g.getMonth()+1,0)).format("YYYY-MM-DD HH:mm:ss")}),O=Object(L.a)(b,2),v=O[0],E=O[1],_=function(e){return Object(an.b)(e)},C=function(e,t){"PERCENT"==v.type&&Number(e.target.value)>100?_("This field should smaller than 100."):E(Object(l.a)(Object(l.a)({},v),{},Object(y.a)({},t,e.target.value)))},x=function(e,t){E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,Wa()(e).startOf("day").format("YYYY-MM-DD HH:mm:ss")))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Coupon Loyalty"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/promotion")}},"Cancel")))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Code",value:v.code,handleChange:function(e){return C(e,"code")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Type",items:v.typeList,value:v.type,handleChange:function(e){return function(e,t){"type"==t&&E(Object(l.a)(Object(l.a)({},v),{},{type:e}))}(e,"type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"FLAT"==v.type?"Amount(price)":"PERCENT"==v.type?"Amount(%)":"Amount(price)",value:v.amount,handleChange:function(e){return C(e,"amount")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"Start Date",selectedDate:v.start_date,handleChange:function(e){return x(e,"start_date")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"Expiration Date",selectedDate:v.end_date,handleChange:function(e){return x(e,"end_date")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.code&&""!=v.code)if(null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:v.code,type:v.type,amount:v.amount,start_date:v.start_date,end_date:v.end_date})};fetch("".concat(zt,"createCoupon"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.coupon_id){e.next=14;break}return _("This promotion code is already exist."),e.abrupt("return");case 14:0!=n.coupon_id&&(w("shipped"),E(function(){return Object(l.a)(Object(l.a)({},v),{},{code:"",amount:""})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})}else _("Please enter amount.");else _("Please enter code.")}()}},"Save & New")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:v.code,type:v.type,amount:v.amount,start_date:v.start_date,end_date:v.end_date})};console.log("Body ===> ",e),fetch("".concat(zt,"createCoupon"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(0!=a.coupon_id){e.next=14;break}return _("This promotion code is already exist."),e.abrupt("return");case 14:0!=a.coupon_id&&(w("shipped"),n.push("/app/salesorder/promotion"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})}else _("Please enter amount.")}()}},"Save & Back")))))))));function T(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function w(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:T};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Fo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Mo=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Ao=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=To(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],e.match.params.coupon),b=Object(a.useState)({coupon_id:g,code:"",typeList:["PERCENT","FLOAT","UNIT"],type:"PERCENT",amount:"",start_date:"",end_date:""}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(g)},[]);var _=function(e){var t={coupon_id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("".concat(zt,"getCouponsbyId"),n).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("_____________________",n),E(Object(l.a)(Object(l.a)({},v),{},{code:n.code,type:n.type,amount:n.amount,start_date:n.start_date,end_date:n.end_date}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){return Object(an.b)(e)},x=function(e,t){"PERCENT"==v.type&&Number(e.target.value)>100?C("This field should smaller than 100."):E(Object(l.a)(Object(l.a)({},v),{},Object(y.a)({},t,e.target.value)))},T=function(e,t){E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,Wa()(e).startOf("day").format("YYYY-MM-DD HH:mm:ss")))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Coupon"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Code",value:v.code,handleChange:function(e){return x(e,"code")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(_n,{req:!0,name:"Type",items:v.typeList,value:v.type,handleChange:function(e){return function(e,t){"type"==t&&E(Object(l.a)(Object(l.a)({},v),{},{type:e}))}(e,"type")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"FLAT"==v.type?"Amount(price)":"PERCENT"==v.type?"Amount(%)":"Amount(price)",value:v.amount,handleChange:function(e){return x(e,"amount")}}))),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"Start Date",selectedDate:v.start_date,handleChange:function(e){return T(e,"start_date")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:t.formContainer},r.a.createElement(bn,{title:"Expiration Date",selectedDate:v.end_date,handleChange:function(e){return T(e,"end_date")}}))),r.a.createElement(ae.a,null),r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:8,md:8,lg:8}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.code&&""!=v.code)if(null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coupon_id:v.coupon_id,code:v.code,type:v.type,amount:v.amount,start_date:v.start_date,end_date:v.end_date})};fetch("".concat(zt,"updateCoupon"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.coupon_id){e.next=14;break}return C("This promotion code is already exist."),e.abrupt("return");case 14:0!=n.coupon_id&&S("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please enter amount.");else C("Please enter code.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/promotion")}},"Cancel")))))))));function w(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function S(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:w};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Mo[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Lo=n(273),Uo=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}}),Ho=n(872),qo=Object(_.a)(function(e){return{widgetWrapper:{display:"flex",color:"#fff"},incomeWidget:{backgroundImage:"linear-gradient( 90deg, #00A3EE 0%, rgb(255,255,255) 150%)"},expenseWidget:{backgroundImage:"linear-gradient( 90deg, #F03434 0%, rgb(255,255,255) 150%)"},profitWidget:{backgroundImage:"linear-gradient( 90deg, #70A456 0%, rgb(255,255,255) 150%)"},widgetHeader:{padding:e.spacing(2),paddingBottom:e.spacing(1),color:"#fff"},widgetRoot:{boxShadow:e.customShadows.widget,position:"relative"},widgetBody:{paddingBottom:e.spacing(3),paddingRight:e.spacing(3),paddingLeft:e.spacing(3)},noPadding:{padding:0},paper:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"},moreButton:{position:"absolute",right:0,padding:0,width:40,height:40,color:"#fff"},iconArea:{display:"flex",justifyContent:"flex-end",paddingRight:10},iconContainer:{width:50,height:50,borderRadius:60,backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center"},incomeIcon:{color:"#00A3EE"},expenseIcon:{color:"#F03434"},profitIcon:{color:"#70A456"},totalRight:{display:"flex",justifyContent:"flex-end"}}});function zo(e){var t,n=e.children,a=e.title,o=e.noBodyPadding,i=e.bodyClass,c=(e.disableWidgetMenu,e.header,e.sales_target),s=e.current_total_sales,l=(e.date,Object(g.a)(e,["children","title","noBodyPadding","bodyClass","disableWidgetMenu","header","sales_target","current_total_sales","date"]),qo());return r.a.createElement("div",{className:l.widgetWrapper},r.a.createElement(ge.a,{className:l.paper,classes:{root:v()(l.widgetRoot,Object(y.a)({},l.incomeWidget,"Sales Target"===a),Object(y.a)({},l.expenseWidget,"Current Total Sales"===a))}},r.a.createElement("div",{className:l.widgetHeader},r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,lg:8,md:8,sm:8,xs:6},r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h4",color:"inherit"},a)),"Sales Target"==a?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h6"},Wa()(new Date).format("YYYY-MM"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h6"},Wa()(new Date).format("YYYY-MM-DD")))),r.a.createElement(j.a,{item:!0,className:l.iconArea,lg:4,md:4,sm:4,xs:6},function(e){switch(e){case"Sales Target":return r.a.createElement("div",{className:l.iconContainer},r.a.createElement(Ho.a,{className:l.incomeIcon}));case"Current Total Sales":return r.a.createElement("div",{className:l.iconContainer},r.a.createElement(Tn.a,{className:l.expenseIcon}));default:return null}}(a)))),r.a.createElement(j.a,{container:!0,className:l.widgetHeader},r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:6,className:l.totalRight},r.a.createElement(I.a,{variant:"h3",color:"inherit"},"Sales Target"==a?c:s))),r.a.createElement("div",{className:v()(l.widgetBody,(t={},Object(y.a)(t,l.noPadding,o),Object(y.a)(t,i,i),t))},n)))}var Wo=Object(_.a)(function(e){return{}}),Jo=n(456);function Go(e){var t=e.title,n=e.data;Object(g.a)(e,["title","data"]),Wo(),Object(h.g)();return Object(a.useEffect)(function(){},[]),r.a.createElement(pn,{title:t,disableWidgetMenu:!0},r.a.createElement("div",null,r.a.createElement(Jo.a,{data:n})))}var Yo=n(401),Vo=n(380),$o=n(402),Qo=n(386),Ko=n(385),Xo=n(384),Zo=Object(_.a)(function(e){return{}});function ei(e){var t=e.data,n=e.title,o=e.type,i=(Object(g.a)(e,["data","title","type"]),Zo());Object(h.g)();return Object(a.useEffect)(function(){},[]),r.a.createElement(pn,{title:n,disableWidgetMenu:!0},r.a.createElement("div",null,r.a.createElement(Yo.a,null,r.a.createElement(Vo.a,{className:i.table,"aria-label":"simple table"},r.a.createElement($o.a,null,r.a.createElement(Qo.a,null,r.a.createElement(Ko.a,null,"Ranking"),r.a.createElement(Ko.a,null,"Unit"==o?"Category Name":"Name"),r.a.createElement(Ko.a,{align:"right"},"Amount"))),r.a.createElement(Xo.a,null,t.map(function(e,t){return r.a.createElement(Qo.a,{key:t},r.a.createElement(Ko.a,{component:"th",scope:"row"},t+1),r.a.createElement(Ko.a,null,e.full_name),r.a.createElement(Ko.a,{align:"right"},"Unit"==o?e.net_total+" Units":"Rp "+e.net_total))}))))))}var ti=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=e.companyTarget,n=(Object(g.a)(e,["companyTarget"]),Uo(),Object(h.g)(),Object(a.useState)(null)),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2);s[0],s[1],Object(a.useEffect)(function(){},[]);var l={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Company Target",data:t,columns:[{name:"full_name",label:"Company User",options:{filter:!0,sort:!0}},{name:"net_total",label:"Current Sales",options:{filter:!0,sort:!0}},{name:"sales_target",label:"Sales Target",options:{filter:!0,sort:!0}}],options:l})))))});var ni=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=e.itemTarget,n=(e.type,Object(g.a)(e,["itemTarget","type"]),Uo(),Object(h.g)(),Object(a.useState)(null)),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2);s[0],s[1],Object(a.useEffect)(function(){console.log("===========>",t)},[]);var l=[{name:"full_name",label:"Item Category",options:{filter:!0,sort:!0}},{name:"net_total",label:"Current Sales",options:{filter:!0,sort:!0}},{name:"unit",label:"Sales Target",options:{filter:!0,sort:!0}}],m={filterType:"dropdown",pagination:!0,print:!1,download:!0,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Item Target",data:t,columns:l,options:m})))))});var ai={loading:!1,group:[],error:null};var ri=function(){return function(e){e({type:Ut}),setTimeout(function(){fetch("".concat(zt,"getCategory"),{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw t.error;var n;return e((n=t,console.log("action===>",n),{type:Ht,group:n})),console.log("Get SalesItem===>",t),t}).catch(function(t){e(function(e){return{type:qt,error:e}}(t))})},1e3)}};var oi=Object(Fe.b)(function(e){return{company:e.company,group:e.group}},function(e){return Object(qe.b)({fetchCompany:qn,fetchGroup:ri},e)})(function(e){Object(h.g)();var t=Uo(),n=Object(a.useState)(!0),o=Object(L.a)(n,2),i=o[0],c=o[1],s=Object(a.useState)("Default"),m=Object(L.a)(s,2),u=(m[0],m[1],Object(Fe.c)(function(e){return e.company})),d=Object(Fe.c)(function(e){return e.group}),p=new Date,f=Object(a.useState)({top3Data:[],graphData:[],start_date:new Date(p.getFullYear(),p.getMonth(),1),end_date:p,company_id:localStorage.getItem("company_id"),company_entity_name:"All",companyIDList:localStorage.getItem("company_id").split(", "),item_id:"0",item_name:"All",category:"Amount",sales_target:"",current_total_sales:"",companyTarget:[],itemTarget:[]}),g=Object(L.a)(f,2),b=g[0],O=g[1];Object(a.useEffect)(function(){if(e.fetchCompany(),console.log(u),e.fetchGroup(),console.log(d),i){_(b.company_id),C(b.company_id,b.start_date,b.end_date),T(b.company_id,b.start_date,b.end_date),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{category:"Amount"})});for(var t=0;t<p.getMonth()+1;t++){var n=new Date(p.getFullYear(),t,1),a=new Date(p.getFullYear(),t+1,0);w(b.company_id,n,a)}}else S(b.item_id)},[]);var v=function(e){var t=[];return Boolean(e)&&e.length?(1!=b.companyIDList.length&&t.push("All"),e.map(function(e){b.companyIDList.includes(null===e||void 0===e?void 0:e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(u.company),E=function(e){var t=[];return Boolean(e)&&e.length?(1!=e.length&&t.push("All"),e.map(function(e){t.push(null===e||void 0===e?void 0:e.category_name)}),t):[]}(d.group),_=function(){var e=Object(ve.a)(Oe.a.mark(function e(t){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:t})};fetch("".concat(zt,"getSalesTargetbyCompanyID"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{sales_target:n.sales_target})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n,a){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:t,start_date:n,end_date:a})};fetch("".concat(zt,"getCurrentSalesbyCompanyID"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{current_total_sales:n.current_total})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500);case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n,a){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:t,start_date:n,end_date:a,type:b.category})};fetch("".concat(zt,"getCurrentSalesbyCategoryID"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{current_total_sales:n.quantity})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500);case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n,a){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:t,start_date:n,end_date:a})};fetch("".concat(zt,"getUsersTargetbyCompanyID"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{companyTarget:Object(Lo.a)(n),top3Data:n.length>3?n.slice(0,3):n})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500);case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n,a){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:t,start_date:n,end_date:a})};fetch("".concat(zt,"getCurrentSalesbyCompanyID"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:console.log("Data==========>",n),(r=b.graphData).push(n.current_total),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{graphData:Object(Lo.a)(r)})});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500);case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(e){setTimeout(function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:e,type:b.category})};fetch("".concat(zt,"getCategorySalesTarget"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{sales_target:n.sales_target})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500)},N=function(){setTimeout(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:b.start_date,end_date:b.end_date,type:b.category})};fetch("".concat(zt,"getItemCategoryTarget"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Item Target Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:O(function(e){return Object(l.a)(Object(l.a)({},e),{},{itemTarget:Object(Lo.a)(n),top3Data:n.length>3?n.slice(0,3):n})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},500)},k=function(e,t){"company_entity_name"==t&&(function(e){var t="";if("All"==e){t=b.companyIDList.join(", "),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{company_id:t,category:"Amount"})}),b.graphData=[],_(t),C(t,b.start_date,b.end_date),T(t,b.start_date,b.end_date);for(var n=0;n<b.end_date.getMonth()+1;n++){var a=new Date(b.end_date.getFullYear(),n,1),r=new Date(b.end_date.getFullYear(),n+1,0);w(t,a,r)}}else{var o=u.company.filter(function(t){return t.company_entity_name==e});if(null!=o[0]){t=o[0].company_id.toString(),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{company_id:t,category:"Amount"})}),b.graphData=[],_(t),C(t,b.start_date,b.end_date),T(t,b.start_date,b.end_date);for(var i=0;i<b.end_date.getMonth()+1;i++){var c=new Date(b.end_date.getFullYear(),i,1),s=new Date(b.end_date.getFullYear(),i+1,0);w(t,c,s)}}}}(e),O(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))}))},B=function(e,t){"item"==t&&(function(e){var t="";if("All"==e)t="0",O(function(e){return Object(l.a)(Object(l.a)({},e),{},{item_id:t})}),S(t),x(t,b.start_date,b.end_date);else{var n=d.group.filter(function(t){return t.category_name==e});console.log("object====>",n),null!=n[0]&&(t=n[0].category_id,console.log("Item ID====>",t),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{item_id:t})}),S(t),x(t,b.start_date,b.end_date))}}(e),O(function(t){return Object(l.a)(Object(l.a)({},t),{},{item_name:e})}))},R=function(){var e=Object(ve.a)(Oe.a.mark(function e(t,n){var a,r,o,c,s;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Date(p.getFullYear(),p.getMonth(),1),r=t,O(function(e){return Object(l.a)(Object(l.a)({},e),{},{start_date:a,end_date:r})}),b.start_date=a,b.end_date=r,i)for(T(b.company_id,a,r),b.graphData=[],o=0;o<t.getMonth()+1;o++)c=new Date(t.getFullYear(),o,1),s=new Date(t.getFullYear(),o+1,0),w(b.company_id,c,s);else x(b.item_id,a,r),N();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,lg:3,md:3,sm:3,xs:12},r.a.createElement(I.a,{variant:"h3",size:"sm",color:"initial",weight:"bold"},"Sales Order Report")),r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12}),r.a.createElement(j.a,{item:!0,lg:3,md:3,sm:3,xs:12,style:{display:"flex"}},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:i?"contained":"outlined",size:"large",color:"primary",style:{margin:5},onClick:function(){c(!0),_(b.company_id),C(b.company_id,b.start_date,b.end_date),T(b.company_id,b.start_date,b.end_date),O(function(e){return Object(l.a)(Object(l.a)({},e),{},{category:"Amount",end_date:p})}),b.graphData=[];for(var e=0;e<p.getMonth()+1;e++){var t=new Date(p.getFullYear(),e,1),n=new Date(p.getFullYear(),e+1,0);w(b.company_id,t,n)}}},"Company")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:i?"outlined":"contained",size:"large",color:"primary",style:{margin:5},onClick:function(){c(!1),S(b.item_id),x(b.item_id,b.start_date,b.end_date),N(),b.graphData=[],O(function(e){return Object(l.a)(Object(l.a)({},e),{},{category:"Amount",end_date:p})})}},"Item"))))),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,lg:4,md:4,sm:4,xs:12},i?r.a.createElement(_n,{req:!0,name:"Company",items:v,value:b.company_entity_name,handleChange:function(e){return k(e,"company_entity_name")}}):r.a.createElement(_n,{req:!0,name:"Item",items:E,value:b.item_name,handleChange:function(e){return B(e,"item")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(gn.a,{className:t.formControl,required:!0,variant:"inline",animateYearScrolling:!0,autoOk:!0,views:["year","month"],clearable:"true",label:"Date",value:b.end_date,onChange:function(e){return R(e,"end_date")}})),r.a.createElement(j.a,{item:!0,lg:4,md:4,sm:4,xs:12},r.a.createElement(_n,{req:!0,name:"Category",items:i?["Amount"]:["Amount","Unit"],value:b.category,handleChange:function(e){return t=e,n="category",O(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},n,t))}),b.category=t,void(0==i&&(S(b.item_id),x(b.item_id,b.start_date,b.end_date),N()));var t,n}})))),r.a.createElement(j.a,{container:!0,spacing:8},r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12},r.a.createElement(zo,{title:"Current Total Sales",current_total_sales:"Amount"==b.category?"Rp "+b.current_total_sales:b.current_total_sales+" Unit"})),r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12},r.a.createElement(zo,{title:"Sales Target",sales_target:"Amount"==b.category?"Rp "+b.sales_target:b.sales_target+" Unit"}))),r.a.createElement(j.a,{container:!0,spacing:8},i?r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12},r.a.createElement(Go,{title:"Amount",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"].slice(0,b.graphData.length),datasets:[{label:"Sales Target",fill:!1,lineTension:.3,backgroundColor:"#00A3EE",borderColor:"#00A3EE",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#0198C9",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#0198C9",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:b.graphData}]}})):null,r.a.createElement(j.a,{item:!0,lg:6,md:6,sm:6,xs:12},r.a.createElement(ei,{data:b.top3Data,title:i?"Sales LeaderBoard":"Top Categories",type:b.category}))),i?r.a.createElement(ti,{companyTarget:b.companyTarget}):r.a.createElement(ni,{itemTarget:b.itemTarget,type:b.category}))}),ii=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var ci=Object(Fe.b)(function(e){return{group:e.group}},function(e){return Object(qe.b)({fetchGroup:ri},e)})(function(e){ii();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([])),m=Object(L.a)(l,2),u=m[0],d=m[1],f=Object(Fe.c)(function(e){return e.group});Object(a.useEffect)(function(){e.fetchGroup(),d(f.group)},[]);var g=[{name:"category_name",label:"Category Name",options:{filter:!0,sort:!0}},{name:"category_id",label:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){b(t,e)}},r.a.createElement(nn.a,{style:{fontSize:"18"}})))}}}],b=function(e,n){t.push("/app/salesorder/group/"+n+"/edit")},y={filterType:"dropdown",pagination:!0,print:!1,download:!1,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=f.group[e.dataIndex].order_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e})};fetch("".concat(zt,"removeOrder"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Category",button:["Add New"],data:u,category:"category",history:t}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Category",data:f.group,columns:g,options:y})))))}),si=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var li=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=ii(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1]),b=Object(Fe.c)(function(e){return e.company}),O=Object(a.useState)({category_name:""}),v=Object(L.a)(O,2),E=v[0],_=v[1];Object(a.useEffect)(function(){e.fetchCompany(),console.log(b),g(b.data)},[]);var C=function(e){return Object(an.b)(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"New Category"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Categroy Name",value:E.category_name,handleChange:function(e){return function(e,t){var n=e.target,a=(n.name,n.value);_(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}(e,"category_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:t.formContainer}),r.a.createElement(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=E.category_name&&""!=E.category_name)if(null!=E.company_id&&""!=E.company_id){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_name:E.category_name})};fetch("".concat(zt,"createCategory"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.group_id){e.next=14;break}return C("This category is already exist."),e.abrupt("return");case 14:0!=n.group_id&&(T("shipped"),_(function(){return{category_name:""}}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please select company.");else C("Please enter category name.")}()}},"Save & New"))),r.a.createElement(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=E.category_name&&""!=E.category_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_name:E.category_name})};fetch("".concat(zt,"createCategory"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var a,r;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("Response Data=============>",a),t.ok){e.next=9;break}return r=a&&a.message||t.status,e.abrupt("return",Promise.reject(r));case 9:if(0!=a.group_id){e.next=14;break}return C("This category is already exist."),e.abrupt("return");case 14:0!=a.group_id&&(T("shipped"),_(function(){return{category_name:""}}),n.push("/app/salesorder/group"));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please enter category name.")}()}},"Save & Back"))),r.a.createElement(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:t.formContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/group")}},"Cancel"))))))));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:si[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),mi=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var ui=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){var t=ii(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],Object(Fe.c)(function(e){return e.company}),e.match.params.group),b=Object(a.useState)({category_id:g,category_name:""}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(g)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:e})};fetch("".concat(zt,"getCategorybyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(function(){return{category_name:n[0].category_name}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){return Object(an.b)(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Edit Category"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Categroy Name",value:v.category_name,handleChange:function(e){return function(e,t){var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}(e,"category_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:t.formContainer}),r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.category_name&&""!=v.category_name){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:g,category_name:v.category_name})};console.log("body===> ",e.body),fetch("".concat(zt,"updateCategory"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.category_id){e.next=14;break}return C("This category is already exist."),e.abrupt("return");case 14:0!=n.category_id&&T("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please enter category name.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/group")}},"Cancel")))))))));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:mi[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),di=n(873),pi=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var fi=Object(Fe.b)(function(e){return{group:e.group}},function(e){return Object(qe.b)({fetchGroup:ri},e)})(function(e){pi();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),l=(s[0],s[1],Object(a.useState)([])),m=Object(L.a)(l,2),u=(m[0],m[1]),d=Object(Fe.c)(function(e){return e.group});Object(a.useEffect)(function(){e.fetchGroup(),u(d.group)},[]);var f=[{name:"category_name",label:"Category Name",options:{filter:!0,sort:!0}},{name:"unit",label:"Unit",options:{filter:!0,sort:!0}},{name:"amount",label:"Amount(Rp)",options:{filter:!0,sort:!0}},{name:"category_id",label:"Setting",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){g(t,e)}},r.a.createElement(di.a,{style:{fontSize:"18"}})))}}}],g=function(e,n){t.push("/app/salesorder/itemcategory/"+n+"/edit")},b={filterType:"dropdown",pagination:!0,print:!1,download:!1,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=d.group[e.dataIndex].order_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e})};fetch("".concat(zt,"removeOrder"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t;t="Something went wrong!\n"+e,Object(an.b)(t),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Item Categories"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Item Categories",data:d.group,columns:f,options:b})))))}),gi=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var bi=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=pi(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],e.match.params.itemcategory),b=Object(a.useState)({category_id:g,category_name:"",unit:"",amount:""}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(g)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:e})};fetch("".concat(zt,"getCategorybyId"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(function(){return{category_name:n[0].category_name,unit:n[0].unit,amount:n[0].amount}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){return Object(an.b)(e)},x=function(e,t){var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Setting Category Sales Target"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:12,sm:3,md:3,lg:3,className:t.formContainer},r.a.createElement(On,{req:!0,disabled:!0,title:"Categroy Name",value:v.category_name})),r.a.createElement(j.a,{item:!0,xs:12,sm:3,md:3,lg:3,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Unit",value:v.unit,handleChange:function(e){return x(e,"unit")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:3,md:3,lg:3,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Amount(Rp)",value:v.amount,handleChange:function(e){return x(e,"amount")}})),r.a.createElement(j.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.unit&&""!=v.unit||null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:g,unit:v.unit,amount:v.amount})};console.log("body===> ",e.body),fetch("".concat(zt,"settingCategory"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=9;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 9:if(0!=n.category_id){e.next=14;break}return C("This category is already exist."),e.abrupt("return");case 14:0!=n.category_id&&w("shipped");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please fill at lease one.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/itemcategory")}},"Cancel")))))))));function T(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function w(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:T};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:gi[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),hi=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}});var yi=Object(Fe.b)(function(e){return{company:e.company}},function(e){return Object(qe.b)({fetchCompany:qn},e)})(function(e){hi();var t=Object(h.g)(),n=Object(a.useState)(null),o=Object(L.a)(n,2),i=(o[0],o[1],Object(a.useState)(0)),s=Object(L.a)(i,2),m=(s[0],s[1],Object(a.useState)([])),u=Object(L.a)(m,2),d=(u[0],u[1]),f=Object(Fe.c)(function(e){return e.userview}),g=Object(Fe.c)(function(e){return e.company}),b=Object(a.useState)({company_id:localStorage.getItem("company_id"),company_entity_name:"All",companyIDList:localStorage.getItem("company_id").split(", "),userData:[]}),O=Object(L.a)(b,2),v=O[0],E=O[1],_=function(e){return Object(an.b)(e)};Object(a.useEffect)(function(){e.fetchCompany(),console.log(g),d(g.company),C(v.company_id)},[]);var C=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getUserById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:E(function(e){return Object(l.a)(Object(l.a)({},e),{},{userData:n})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})},x=function(e){var t=[];return Boolean(e)&&e.length?(1!=v.companyIDList.length&&t.push("All"),e.map(function(e){v.companyIDList.includes(null===e||void 0===e?void 0:e.company_id.toString())&&t.push(null===e||void 0===e?void 0:e.company_entity_name)}),t):[]}(g.company),w=function(e,t){["company_entity_name"].includes(t)&&(function(e){var t="";if("All"==e)t=v.companyIDList.join(", "),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t})),C(t);else{var n=g.company.filter(function(t){return t.company_entity_name==e});null!=n[0]&&(t=n[0].company_id.toString(),E(Object(l.a)(Object(l.a)({},v),{},{company_id:t})),C(t))}}(e),E(function(n){return Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},t,e))}))},S=[{name:"full_name",label:"User Name",options:{filter:!0,sort:!0}},{name:"sales_target",label:"Amount(Rp)",options:{filter:!0,sort:!0}},{name:"user_id",label:"Setting",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(t){N(t,e)}},r.a.createElement(di.a,{style:{fontSize:"18"}})))}}}],N=function(e,n){t.push("/app/salesorder/companyusers/"+n+"/edit")},k={filterType:"dropdown",pagination:!0,print:!1,download:!1,filter:!0,responsive:"scroll",fixedHeader:!1,elevation:0,rowsPerPageOptions:[5,10,20],resizableColumns:!1,onRowsDelete:function(e){var t=[];e.data.map(function(e){var n=f.userview[e.dataIndex].user_id;t.push(n)}),console.log("deleting Ids===> ",t),t.map(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"deleteUser"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){_("Something went wrong!\n"+e),console.error("There was an error!",e)})})},onTableChange:function(e,t){console.log(e,t);var n=[];t.data.map(function(e,t){n.push(e.data)}),console.log(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Company Users"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:12,md:4},r.a.createElement(_n,{req:!0,name:"Company",items:x,value:1==x.length?x[0]:v.company_entity_name,handleChange:function(e){return w(e,"company_entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,md:4},r.a.createElement(P.a,{variant:"outlined",size:"small",color:"primary",style:{marginTop:30,marginLeft:10},onClick:function(){t.push("/app/salesorder/companyusers/"+v.company_id+"/"+v.company_entity_name+"/setting")}},"Setting"))),r.a.createElement(c.a,{theme:Object(p.a)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:"5px",paddingBottom:"5px",fontSize:".8125rem"}}},MuiTableCell:{root:{borderColor:"#d3d3d3",fontSize:".8125rem"},head:{paddingTop:"5px",paddingBottom:"5px"}}})},r.a.createElement(_e.a,{title:"Company Users",data:v.userData,columns:S,options:k})))))}),Oi=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var vi=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=hi(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(a.useState)([])),f=Object(L.a)(p,2),g=(f[0],f[1],e.match.params.user_id),b=Object(a.useState)({user_id:g,amount:""}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(g)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})};fetch("".concat(zt,"getUserInfoById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 6:E(function(){return{amount:n[0].sales_target}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e){return Object(an.b)(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Set User Sales Target"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:12,sm:3,md:3,lg:3,className:t.formContainer},r.a.createElement(On,{req:!0,title:"Sales Target(Rp)",value:v.amount,handleChange:function(e){return function(e,t){var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})}(e,"amount")}})),r.a.createElement(j.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.amount&&""!=v.amount){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:g,sales_target:v.amount})};fetch("".concat(zt,"updateSalesTarget"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:T("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){C("Something went wrong!\n"+e),console.error("There was an error!",e)})}else C("Please enter amount.")}()}},"Save")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/companyusers")}},"Cancel")))))))));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:Oi[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}}),Ei=Object(_.a)(function(e){return{dashedBorder:{border:"1px dashed",borderColor:e.palette.primary.main,padding:e.spacing(2),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:e.spacing(1)},text:{marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:"100%"},filePicker:{margin:e.spacing(1),minWidth:"100%"},fileInput:{width:"90%"},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"0 10px 0 10px"},typo:{margin:e.spacing(1),minWidth:"100%"},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end"},statusTextContainer:{backgroundColor:e.palette.mysecondary.light,color:"#FFF",padding:e.spacing(2)},statusText:{},invoiceContainer:{height:40,backgroundImage:"linear-gradient( 136deg, rgb(255, 255, 255) 0%, rgb(0, 163, 238) 50%, rgb(11, 26, 45) 100%)"},iconContainer:{borderRadius:60,background:e.palette.myprimary.light,width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex",color:"#fff"},cardTitle:{justifyContent:"flex-end",display:"flex",color:"white",fontSize:16,letterSpacing:2,fontWeight:"bold"},cardRoot:{height:60},displayColumn:{display:"flex",flexDirection:"column",lineHeight:2},headerContainer:{padding:15},rightAlign:{alignItems:"flex-end"},cardFooterRoot:{padding:20,display:"flex",justifyContent:"flex-end",marginBottom:10},editButton:{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},printButton:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},shareButton:{backgroundColor:e.palette.favorite.white,color:"#666","&:hover":{backgroundColor:"#ccc"}},actionButton:{backgroundColor:e.palette.myprimary.light,color:"#fff","&:hover":{backgroundColor:e.palette.myprimary.main}}}}),_i=[an.b.POSITION.TOP_LEFT,an.b.POSITION.TOP_CENTER,an.b.POSITION.TOP_RIGHT,an.b.POSITION.BOTTOM_LEFT,an.b.POSITION.BOTTOM_CENTER,an.b.POSITION.BOTTOM_RIGHT];var Ci=Object(Fe.b)(function(e){return{}},function(e){return Object(qe.b)({},e)})(function(e){var t=Ei(),n=Object(h.g)(),o=Object(a.useState)(null),i=Object(L.a)(o,2),c=i[0],s=i[1],m=Object(a.useState)(2),u=Object(L.a)(m,2),d=u[0],p=(u[1],Object(Fe.c)(function(e){return e.company}),function(e){return Object(an.b)(e)}),f=e.match.params.company_id,g=e.match.params.company_entity_name,b=Object(a.useState)({company_id:f,company_entity_name:g,sales_target:0}),O=Object(L.a)(b,2),v=O[0],E=O[1];Object(a.useEffect)(function(){_(f)},[]);var _=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:e})};fetch("".concat(zt,"getCompanyById"),t).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:E(function(){return Object(l.a)(Object(l.a)({},v),{},{sales_target:n.sales_target})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error("There was an error!",e)})},C=function(e,t){var n=e.target,a=(n.name,n.value);E(function(e){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t,a))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{title:"Set Company Sales Target"}),r.a.createElement(j.a,{container:!0,spacing:4},r.a.createElement(an.a,{className:t.toastsContainer,closeButton:r.a.createElement(function(e){var t=e.closeToast,n=e.className;return r.a.createElement(xn.a,{className:n,onClick:t})},{className:t.notificationCloseButton}),closeOnClick:!1,progressClassName:t.notificationProgress}),r.a.createElement(j.a,{item:!0,xs:12,md:12},r.a.createElement(pn,{title:"",disableWidgetMenu:!0},r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:3,className:t.formContainer},r.a.createElement(On,{req:!0,disabled:!0,title:"Company",value:v.company_entity_name,handleChange:function(e){return C(e,"company_entity_name")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:3,className:t.formContainer},r.a.createElement(On,{title:"Sales Target",value:v.sales_target,handleChange:function(e){return C(e,"sales_target")}})),r.a.createElement(j.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(j.a,{container:!0,spacing:2,className:t.buttonContainer},r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(jn.a,null),onClick:function(){return function(){if(null!=v.sales_target&&""!=v.sales_target){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:v.company_id,sales_target:v.sales_target})};fetch("".concat(zt,"settingSalesTarget"),e).then(function(){var e=Object(ve.a)(Oe.a.mark(function e(t){var n,a;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("Response Data=============>",n),t.ok){e.next=7;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 7:T("shipped");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){p("Something went wrong!\n"+e),console.error("There was an error!",e)})}else p("Please enter sales target.")}()}},"Apply for all users")),r.a.createElement(j.a,{item:!0},r.a.createElement(P.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Cn.a,null),onClick:function(){n.push("/app/salesorder/companyusers")}},"Cancel")))))))));function x(){an.b.update(c,{render:r.a.createElement(Hn,{type:"message",message:"Message was sent successfully!",variant:"contained",color:"success"}),type:"success"}),s(null)}function T(e){var n;if(!c||"error"!==e){switch(e){case"info":n={type:"feedback",message:"New user feedback received",variant:"contained",color:"primary"};break;case"error":n={type:"message",message:"Message was not sent!",variant:"contained",color:"secondary",extraButton:"Resend",extraButtonClick:x};break;default:n={type:"shipped",message:"The item was successfully saved!",variant:"contained",color:"success"}}var a=function(e,n){return Object(an.b)(r.a.createElement(Hn,Object.assign({},e,{className:t.notificationComponent})),n)}(n,{type:e,position:_i[d],progressClassName:t.progress,onClose:"error"===e&&function(){return s(null)},className:t.notification});"error"===e&&s(a)}}});var ji=Object(h.h)(function(e){var t,n=C(),a=Object(E.a)("(min-width:1600px)"),o=Object(E.a)("(min-width:1800px)"),i=W();return r.a.createElement("div",{className:n.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(pr,null),r.a.createElement("div",{className:v()(n.content,Object(y.a)({},n.contentShift,i.isSidebarOpened))},r.a.createElement(Y,{history:e.history}),r.a.createElement("div",{className:v()(n.mainContainer,(t={},Object(y.a)(t,n.padding1600,a),Object(y.a)(t,n.padding1800,o),t))},r.a.createElement(j.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/app/userview",component:br}),r.a.createElement(h.b,{exact:!0,path:"/app",render:function(){return r.a.createElement(h.a,{to:"/app/userview"})}}),r.a.createElement(h.b,{exact:!0,path:"/app/scheduleview",component:Cr}),r.a.createElement(h.b,{exact:!0,path:"/app/clientview",component:Ir}),r.a.createElement(h.b,{exact:!0,path:"/app/clientview/add",component:Br}),r.a.createElement(h.b,{exact:!0,path:"/app/clientview/:clientview/edit",component:Fr}),r.a.createElement(h.b,{exact:!0,path:"/app/salesview",component:Ar}),r.a.createElement(h.b,{exact:!0,path:"/app/salesview/:salesview/edit",component:Hr}),r.a.createElement(h.b,{exact:!0,path:"/app/salesview/add",component:Wr}),r.a.createElement(h.b,{exact:!0,path:"/app/schedule_report",component:Yr}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder_report",component:oi}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/review",component:ao}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/history",component:io}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/item",component:mo}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/item/add",component:go}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/item/:item/edit",component:ho}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/discount",component:Eo}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/discount/add",component:Co}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/discount/:discount/edit",component:xo}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/promotion",component:ko}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/promotion/add",component:Po}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/promotion/:promotion/edit",component:Ro}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/coupon/add",component:Do}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/coupon/:coupon/edit",component:Ao}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/group",component:ci}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/group/add",component:li}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/group/:group/edit",component:ui}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/itemcategory",component:fi}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/itemcategory/:itemcategory/edit",component:bi}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/companyusers",component:yi}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/companyusers/:company_id/:company_entity_name/setting",component:Ci}),r.a.createElement(h.b,{exact:!0,path:"/app/salesorder/companyusers/:user_id/edit",component:vi}),r.a.createElement(h.b,{component:he}))),r.a.createElement(Ya,null)))))}),xi=Object(_.a)(function(e){return{container:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.primary.main,position:"absolute",top:0,left:0},logotype:Object(y.a)({display:"flex",alignItems:"center",marginBottom:e.spacing(12)},e.breakpoints.down("sm"),{display:"none"}),logotypeText:{fontWeight:500,color:"white",marginLeft:e.spacing(2)},logotypeIcon:{width:70,marginRight:e.spacing(2)},paperRoot:{boxShadow:e.customShadows.widgetDark,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(8),paddingBottom:e.spacing(8),paddingLeft:e.spacing(6),paddingRight:e.spacing(6),maxWidth:404},textRow:{marginBottom:e.spacing(10),textAlign:"center"},errorCode:{fontSize:148,fontWeight:600},safetyText:{fontWeight:300,color:e.palette.text.hint},backButton:{boxShadow:e.customShadows.widget,textTransform:"none",fontSize:22}}});function Ti(){var e=xi();return r.a.createElement(j.a,{container:!0,className:e.container},r.a.createElement(ge.a,{classes:{root:e.paperRoot}},r.a.createElement(I.a,{variant:"h4",color:"primary"},"Success!"),r.a.createElement(I.a,{variant:"h5",color:"primary",className:e.textRow},"Your action is done successfully."),r.a.createElement(P.a,{variant:"contained",color:"primary",component:b.b,to:"/login",size:"large",className:e.backButton},"Go to Login")))}var wi=n(440),Si=n(400),Ni=n(255),ki=Object(_.a)(function(e){var t;return{container:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0},logotypeContainer:(t={backgroundColor:e.palette.primary.main,width:"60%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Object(y.a)(t,e.breakpoints.down("md"),{width:"50%"}),Object(y.a)(t,e.breakpoints.down("md"),{display:"none"}),t),logotypeImage:{marginBottom:e.spacing(4)},logotypeText:Object(y.a)({color:"white",fontWeight:500,fontSize:84},e.breakpoints.down("md"),{fontSize:48}),formContainer:Object(y.a)({width:"40%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.down("md"),{width:"50%"}),form:{width:320},tab:{fontWeight:400,fontSize:18},greeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(4)},subGreeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(2)},googleButton:{marginTop:e.spacing(6),boxShadow:e.customShadows.widget,backgroundColor:"white",width:"100%",textTransform:"none"},googleButtonCreating:{marginTop:0},googleIcon:{width:30,marginRight:e.spacing(2)},creatingButtonContainer:{marginTop:e.spacing(2.5),height:46,display:"flex",justifyContent:"center",alignItems:"center"},createAccountButton:{height:46,textTransform:"none"},formDividerContainer:{marginTop:e.spacing(4),marginBottom:e.spacing(4),display:"flex",alignItems:"center"},formDividerWord:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},formDivider:{flexGrow:1,height:1,backgroundColor:e.palette.text.hint+"40"},errorMessage:{textAlign:"center"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},textField:{borderBottomColor:e.palette.background.light},formButtons:{width:"100%",marginTop:e.spacing(4),display:"flex",justifyContent:"space-between",alignItems:"center"},forgetButton:{textTransform:"none",fontWeight:400},loginLoader:{marginLeft:e.spacing(4)},copyright:Object(y.a)({marginTop:e.spacing(4),whiteSpace:"nowrap"},e.breakpoints.up("md"),{position:"absolute",bottom:e.spacing(2)})}});var Ii=Object(h.h)(function(e){var t=ki(),n=function(){var e=r.a.useContext(Kt);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e}(),o=Object(a.useState)(!1),i=Object(L.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(null),m=Object(L.a)(l,2),u=m[0],d=m[1],p=Object(a.useState)(0),f=Object(L.a)(p,2),g=f[0],b=f[1],h=Object(a.useState)(""),y=Object(L.a)(h,2),O=y[0],v=y[1],E=Object(a.useState)(""),_=Object(L.a)(E,2),C=_[0],x=_[1],T=Object(a.useState)(""),w=Object(L.a)(T,2),S=w[0],N=w[1],k=Object(a.useState)(""),B=Object(L.a)(k,2),R=B[0],F=B[1],D=Object(a.useState)(""),M=Object(L.a)(D,2),A=M[0],U=M[1],H=Object(a.useState)(""),q=Object(L.a)(H,2),z=q[0],W=q[1],J=function(e){return Object(an.b)(e)},G=function(e){return!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)};return r.a.createElement(j.a,{container:!0,className:t.container},r.a.createElement(an.a,null),r.a.createElement("div",{className:t.formContainer},r.a.createElement("div",{className:t.form},r.a.createElement(wi.a,{value:g,onChange:function(e,t){return b(t)},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Si.a,{label:"Login",classes:{root:t.tab}}),r.a.createElement(Si.a,{label:"New User",classes:{root:t.tab}})),0===g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h3",className:t.greeting},"Welcome to ASILE!"),r.a.createElement(Ni.a,{in:u},r.a.createElement(I.a,{color:"secondary",className:t.errorMessage},"Something is wrong with your login or password :(")),r.a.createElement(yn.a,{id:"email",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:C,onChange:function(e){return x(e.target.value)},margin:"normal",placeholder:"Email Adress",type:"email",fullWidth:!0}),r.a.createElement(yn.a,{id:"password",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:S,onChange:function(e){return N(e.target.value)},margin:"normal",placeholder:"Password",type:"password",fullWidth:!0}),r.a.createElement("div",{className:t.formButtons},c?r.a.createElement(hr.a,{size:26,className:t.loginLoader}):r.a.createElement(P.a,{disabled:0===C.length||0===S.length,onClick:function(){C.length<3||0==G(C)?J("Please enter valid email."):function(e,t,n,a,r,o){o(!1),r(!0),e({type:"LOGIN_REQUEST",history:a}),Vt({email:t,password:n}).then(function(t){if(console.log("Login=====> ",t),0==t.data.user_id||void 0==t.data.user_id)e({type:"LOGIN_FAILURE"}),a.push("/login");else{var n=t.data.isSuperAdmin;1==n?(localStorage.setItem("id_token",1),localStorage.setItem("user_id",t.data.user_id),localStorage.setItem("full_name",t.data.full_name),Xt=1,o(!0),r(!1),e({type:"LOGIN_SUCCESS",token:t.data.rememberToken}),a.push("/app")):0==n?(localStorage.setItem("id_token",2),localStorage.setItem("company_id",t.data.company_id),localStorage.setItem("user_id",t.data.user_id),localStorage.setItem("full_name",t.data.full_name),localStorage.setItem("allow_so",t.data.allow_so),Xt=2,o(null),r(!1),e({type:"LOGIN_SUCCESS"}),a.push("/app")):a.push("/login")}}).catch(function(t){e({type:"LOGIN_FAILURE"}),a.push("/login"),o(t),r(!1)})}(n,C,S,e.history,s,d)},variant:"contained",color:"primary",size:"large"},"Login"))),1===g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h3",className:t.greeting},"Welcome!"),r.a.createElement(I.a,{variant:"h4",className:t.subGreeting},"Create your account"),r.a.createElement(Ni.a,{in:u},r.a.createElement(I.a,{color:"secondary",className:t.errorMessage})),r.a.createElement(yn.a,{id:"name",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:O,onChange:function(e){return v(e.target.value)},margin:"normal",placeholder:"Full Name",type:"text",fullWidth:!0}),r.a.createElement(yn.a,{id:"email",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:C,onChange:function(e){return x(e.target.value)},margin:"normal",placeholder:"Email Adress",type:"email",fullWidth:!0}),r.a.createElement(yn.a,{id:"phone_number",margin:"normal",placeholder:"Phone Number",type:"number",onChange:function(e){return U(e.target.value)},fullWidth:!0}),r.a.createElement(yn.a,{id:"company_id",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:z,onChange:function(e){return W(e.target.value)},margin:"normal",placeholder:"Company ID",type:"text",fullWidth:!0}),r.a.createElement(yn.a,{id:"password",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:S,onChange:function(e){return N(e.target.value)},margin:"normal",placeholder:"Password",type:"password",fullWidth:!0}),r.a.createElement(yn.a,{id:"confirm",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:R,onChange:function(e){return F(e.target.value)},margin:"normal",placeholder:"Confirm Password",type:"password",fullWidth:!0}),r.a.createElement("div",{className:t.creatingButtonContainer},c?r.a.createElement(hr.a,{size:26}):r.a.createElement(P.a,{onClick:function(){O<0?J("Please enter name"):C.length<3||0==G(C)?J("Please enter valid email."):10==A.length?z.length<1?J("Please enter company id."):S.length<6?J("Password length should be at least 6 characters."):R.length<6?J("Please confirm password"):S==R?function(e,t,n,a,r,o,i,c,s,l,m){m(!1),l(!0),e({type:"SIGNUP_REQUEST",history:s}),$t({full_name:t,password:n,email:a,phone_number:r,company_id:o,isAdmin:i,isActive:c}).then(function(t){null!=t.data.user_id?(m("This user is already exist!\n Please use another email."),s.push("/login")):null==t.data?(m("The company id is not exist."),s.push("/login")):setTimeout(function(){m(!0),l(!1),e({type:"SIGNUP_SUCCESS"}),s.push("/success")},2e3)}).catch(function(t){e({type:"SIGNUP_FAILURE"}),s.push("/login"),m(t),l(!1)})}(n,O,S,C,A,z,!0,!1,e.history,s,d):J("Password is not match."):J("Please enter valid phone number.")},disabled:0===C.length||0===S.length||0===O.length,size:"large",variant:"contained",color:"primary",fullWidth:!0,className:t.createAccountButton},"Create your account")))),r.a.createElement(I.a,{color:"primary",className:t.copyright},"\xa9 2020 Asile. All rights reserved.")))});function Pi(){var e=tn(),t=e.isAuthenticated,n=e.adminID;return console.log("auth ================> ",t),console.log("auth ================> ",n),r.a.createElement(b.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(h.a,{to:"/app"})}}),r.a.createElement(a,{path:"/app",component:1==n?Va:ji}),r.a.createElement(o,{path:"/login",component:Ii}),r.a.createElement(o,{path:"/success",component:Ti}),r.a.createElement(h.b,{component:he})));function a(e){var n=e.component,a=Object(g.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return t?r.a.createElement(n,e):r.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function o(e){var n=e.component,a=Object(g.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return t?r.a.createElement(h.a,{to:{pathname:"/"}}):r.a.createElement(n,e)}}))}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Bi={loading:!1,admin:[],error:null};var Ri={loading:!1,user:[],error:null};var Fi={loading:!1,company:[],error:null};var Di={loading:!1,client:[],error:null};var Mi={loading:!1,schedule:[],error:null},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ut:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,schedule:t.schedule});case dt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},Li={loading:!1,userview:[],error:null};var Ui={loading:!1,scheduleview:[],error:null},Hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ft:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,scheduleview:t.scheduleview});case gt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},qi={loading:!1,salesview:[],error:null};var zi={loading:!1,coupon:[],error:null};var Wi={loading:!1,user:[],error:null};var Ji=Object(qe.c)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case We:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,admin:t.admin});case Je:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Qe:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:t.user});case Ke:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case st:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,company:t.company});case lt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case nt:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,client:t.client});case at:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},sales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ht:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,sales:t.sales});case yt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},schedule:Ai,userview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ze:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,userview:t.userview});case et:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:"error"});default:return e}},clientview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ot:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,clientview:t.clientview});case it:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},scheduleview:Hi,salesview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case vt:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,salesview:t.salesview});case Et:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},salesreview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ct:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,salesreview:t.salesreview});case jt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},saleshistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Tt:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,saleshistory:t.saleshistory});case wt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},salesitem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Nt:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,salesitem:t.salesitem});case kt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},discount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Pt:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,discount:t.discount});case Bt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},promotion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ft:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,promotion:t.promotion});case Dt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},coupon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case At:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,coupon:t.coupon});case Lt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ht:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,group:t.group});case qt:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}},allUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return console.log("fetch request ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ye:return console.log("fetch success ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:t.user});case Ve:return console.log("fetch error ..."),Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});default:return e}}}),Gi=n(458),Yi=n(59),Vi=n(459),$i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d,Qi=Object(qe.e)(Ji,$i(Object(qe.a)(Gi.a)));i.a.render(r.a.createElement(Fe.a,{store:Qi},r.a.createElement(z,null,r.a.createElement(en,null,r.a.createElement(c.a,{theme:f.default},r.a.createElement(s.a,null),r.a.createElement(Yi.a,{utils:Vi.a},r.a.createElement(Pi,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[468,1,2]]]);
//# sourceMappingURL=main.12a514a1.chunk.js.map